# 접미사 배열(Suffix Array)와 LCP 배열(Longest Common Prefix Array)

## 1. 접미사 배열(Suffix Array)
> 문자열의 모든 접미사들을 **사전 순으로 정렬한 후**, 그 접미사의 **시작 인덱스**를 나열한 배열

### 1.1 접미사란?
- 문자열 `S`의 접미사(Suffix)란, `S`의 어떤 위치 `i`부터 끝까지의 부분 문자열을 의미합니다.
- 예시: 문자열 `S = "banana"`일 때

| 인덱스 | 접미사   |
|--------|----------|
| 0      | banana   |
| 1      | anana    |
| 2      | nana     |
| 3      | ana      |
| 4      | na       |
| 5      | a        |

### 1.2 접미사 배열 예시
- `S = "banana"`의 접미사들을 사전순으로 정렬하면:

| 정렬된 접미사 | 시작 인덱스 |
|---------------|--------------|
| a             | 5            |
| ana           | 3            |
| anana         | 1            |
| banana        | 0            |
| na            | 4            |
| nana          | 2            |

- 따라서 접미사 배열: `suffix_array = [5, 3, 1, 0, 4, 2]`

---

## 2. LCP 배열 (Longest Common Prefix Array)
> 접미사 배열에서 **인접한 두 접미사 간의 공통 접두사(Longest Common Prefix)**의 길이를 저장한 배열

### 2.1 LCP 배열 정의
- `LCP[i]`는 `suffix_array[i]`와 `suffix_array[i-1]`에 해당하는 두 접미사의 공통 접두사 길이를 의미
- 일반적으로 `LCP[0] = 0`으로 설정

### 2.2 LCP 배열 예시 (`S = "banana"`)

| suffix_array 인덱스 | 접미사    | 이전 접미사 | 공통 접두사 | LCP |
|---------------------|-----------|--------------|---------------|-----|
| 0                   | a         | -            | -             | 0   |
| 1                   | ana       | a            | a             | 1   |
| 2                   | anana     | ana          | ana           | 3   |
| 3                   | banana    | anana        | (없음)        | 0   |
| 4                   | na        | banana       | na            | 2   |
| 5                   | nana      | na           | na            | 2   |

- 따라서 `LCP 배열 = [0, 1, 3, 0, 2, 2]`

---

## 3. 응용

### 3.1 최장 중복 부분 문자열 (Longest Repeated Substring)
- LCP 배열에서 가장 큰 값을 가지는 구간이 문자열 내 **가장 긴 중복 부분 문자열**을 의미합니다.

### 3.2 문자열 검색
- 이진 탐색을 접미사 배열에 적용하여 패턴 검색을 빠르게 수행할 수 있습니다.

### 3.3 데이터 압축
- LCP 배열을 활용하여 중복 문자열을 찾아 효율적인 압축이 가능합니다.

---

## 4. 시간복잡도
- 접미사 배열 구축:  
  - 일반적인 정렬 기반 구현: `O(N log² N)`  
  - 고급 알고리즘 (SA-IS, DC3 등): `O(N)`
- LCP 배열 구축: `O(N)`

---
