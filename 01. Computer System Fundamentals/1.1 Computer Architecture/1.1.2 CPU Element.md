# 📘 1.1 컴퓨터 구조

# 1.1-2 레지스터, ALU, 제어 유닛

## 1. 개요

CPU(중앙처리장치)는 컴퓨터의 핵심 연산 장치로서, 내부에 **레지스터**, **산술논리연산장치(ALU)**, **제어 유닛(Control Unit)** 등의 구성 요소를 포함한다. 이 세 요소는 명령어를 처리하고 데이터를 계산하며, 프로그램 흐름을 제어하는 데 핵심적인 역할을 한다.

## 2. 레지스터 (Register)

레지스터는 CPU 내부에 존재하는 초고속 임시 저장장치로, **명령어 실행 중 필요한 데이터나 주소를 저장**하는 역할을 한다.

### 특징
* 메모리보다 훨씬 빠르며, 용량은 작음
* CPU 내부에 내장되어 접근 속도가 가장 빠름
* 종류별로 역할이 다름

### 주요 레지스터 종류

| 레지스터 | 역할 |
|----------|------|
| **PC (Program Counter)** | 다음 실행할 명령어의 주소를 저장 |
| **IR (Instruction Register)** | 현재 인출된 명령어를 저장 |
| **ACC (Accumulator)** | 연산 결과를 임시 저장 |
| **MAR (Memory Address Register)** | 메모리 접근 주소를 저장 |
| **MDR (Memory Data Register)** | 메모리와 주고받는 데이터를 저장 |
| **R1, R2, R3...** | 범용 레지스터 (프로그래머가 자유롭게 사용) |

## 3. ALU (Arithmetic Logic Unit)

ALU는 산술 연산과 논리 연산을 수행하는 하드웨어 회로로, CPU의 계산 중심이다.

### 기능
* 덧셈, 뺄셈, 곱셈, 나눗셈 등의 **산술 연산**
* AND, OR, NOT, XOR 등의 **논리 연산**
* 비교 연산: 두 값이 같은지, 큰지, 작은지 비교
* 결과는 ACC 또는 일반 레지스터에 저장됨

### 연산 처리 예시: R1 = R2 + R3
1. **제어 유닛이 ALU에 덧셈 신호 전송**
2. **ALU가 R2, R3 값을 받아 덧셈 수행**
3. **결과를 R1에 저장**

## 4. 제어 유닛 (Control Unit)

제어 유닛은 CPU의 **지휘자 역할**을 하며, 명령어의 해석과 실행을 지시한다.

### 기능
* 명령어 해석: IR에 있는 명령어의 Opcode를 해석
* 제어 신호 생성: ALU, 레지스터, 메모리, I/O 등 하드웨어에 신호 전송
* 프로그램 흐름 제어: 조건 분기, 반복 등
* CPU 내부 요소의 동기화 수행

## 5. CPU 내부 구조도 (텍스트 기반 – 흐름 강조)

```
─────────────────────────────────────────────────────────────
|                      명령어 제어 흐름                        |
|          (Control Flow: 명령 해석 및 실행 제어)              |
─────────────────────────────────────────────────────────────

         ┌───────────────┐
         │  제어 유닛(CU) │
         └──────┬────────┘
                │ 제어 신호 발생
                ▼
     ┌───────────────┐          ┌───────────────┐
     │  레지스터 집합  │◀─────▶ │      ALU       │
     └──────┬────────┘          └──────┬────────┘
            │ 데이터 전달                | 연산 결과
            ▼                          ▼
       ┌───────────────┐
       │   메모리(RAM)  │
       └───────────────┘

─────────────────────────────────────────────────────────────
|                      연산 데이터 흐름                        |
|     (Data Flow: 데이터 이동 및 연산 결과 저장)                |
─────────────────────────────────────────────────────────────

1. 제어 유닛(CU)이 명령어를 해석하고 제어 신호를 발생시킴
2. 레지스터 집합이 연산에 필요한 데이터를 ALU로 전달
3. ALU가 산술/논리 연산을 수행
4. 연산 결과는 다시 레지스터 집합 또는 메모리(RAM)로 저장됨

─────────────────────────────────────────────────────────────

# 전체 흐름 요약 (텍스트 기반 그림)

┌───────────────┐
│  제어 유닛(CU)  │
└──────┬────────┘
       │ 제어 신호
       ▼
┌───────────────┐
│ 레지스터 집합   │◄──────────────┐
└──────┬────────┘               │
       │ 데이터 전달             │
       ▼                        │
┌───────────────┐               │
│     ALU       │               │
└──────┬────────┘               │
       │ 연산 결과               │
       ▼                        │
┌───────────────┐               │
│  메모리(RAM)   │───────────────┘
└───────────────┘


```

## 6. 핵심 요약

| 구성 요소 | 역할 요약 |
|-----------|-----------|
| **레지스터** | CPU 내부의 임시 저장소로, 연산 대상이나 결과 저장 |
| **ALU** | 산술 및 논리 연산 수행, 연산 결과 생성 |
| **제어 유닛** | 명령어 해석 및 각 구성 요소에 제어 신호 전달 |

---

## 용어 설명

* **Opcode**: 명령어 코드. CPU가 어떤 동작을 수행할지 지정하는 부분
* **IR**: Instruction Register. 현재 실행 중인 명령어가 저장되는 레지스터
* **ACC**: Accumulator. 계산 결과를 임시로 저장하는 특별한 레지스터
* **범용 레지스터**: R1, R2, R3 등 프로그래머가 자유롭게 사용할 수 있는 레지스터
* **제어 신호**: CPU 내부 장치 간 동작을 조정하는 전기적 신호