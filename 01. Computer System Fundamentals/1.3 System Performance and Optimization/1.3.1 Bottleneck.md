# 🖥️ 시스템 성능과 최적화

## 📌 등장 배경

기술의 급격한 진보로 인해 사용자가 증가하면서, 더 빠르고 정확한 시스템 성능에 대한 요구가 커짐
이에 따라 **시스템 최적화**가 중요하게 대두됨

---

## 1. 병목점 분석 (Bottleneck Analysis)

### ○ 병목현상이란?

- 성능 테스트 과정에서 애플리케이션의 속도나 효율성이 저하되기 시작하는 특정 지점을 병목현상이라 함
- 성능 병목 현상은 소프트웨어의 중요한 문제로, 시스템의 효율성과 응답성에 큰 영향을 미칠 수 있으므로 심각한 문제
- 병목현상은 소프트웨어뿐만 아니라, 하드웨어, 네트워크, 인프라, 데이터베이스 관리 등 다양한 영역에서도 발생할 수 있음

### ○ 병목현상이 사용자에게 미치는 영향?

- 병목현상 발생 시 시스템 응답 지연 또는 멈춤 현상 발생하여, 사용자 입장에서는 시스템이 느리고 불안정하다고 느낌
- 사용자 경험(UX)에 악영향을 줌

---

## 2. 유형별 병목현상과 해결방안

### 1️⃣ 메모리 병목현상

**원인**

- 시스템의 RAM이 부족하여 과도한 스와핑이나 페이징이 발생

**해결방안**

- **메모리 캐싱**: Redis, Memcached를 활용한 인메모리 캐싱
- **메모리 풀링**: 객체 재사용을 통한 GC 부하 감소
- **메모리 프로파일링**: 메모리 누수 지점 식별 및 제거
- **데이터 구조 최적화**: 메모리 효율적인 자료구조 선택
- **Lazy Loading**: 필요할 때만 데이터를 메모리에 로드

### 2️⃣ CPU 병목현상

**원인**

- CPU 사용률이 지속적으로 높은 처리
- 결과: 처리 속도가 느려지고 시스템이 과부화가 걸림

**해결방안**

- **멀티스레딩**: 병렬 처리를 통한 CPU 자원 효율적 활용
- **비동기 처리**: Non-blocking I/O로 CPU 대기시간 최소화
- **알고리즘 최적화**: 시간복잡도가 낮은 알고리즘 적용
- **코드 리팩토링**: 불필요한 연산 제거 및 최적화
- **로드 밸런싱**: 여러 서버에 부하 분산

### 3️⃣ 디스크 I/O 병목현상

**원인**

- 과도한 디스크 활동, 높은 읽기/쓰기 작업
- 결과: 시스템의 데이터 검색 및 저장 속도에 심각한 지연 발생

**해결방안**

- **SSD 활용**: HDD 대비 빠른 읽기/쓰기 속도
- **인덱싱**: 데이터베이스 검색 속도 향상
- **디스크 캐싱**: 자주 접근하는 데이터를 메모리에 캐싱
- **파일 압축**: 디스크 공간 및 I/O 최적화
- **배치 처리**: 여러 작업을 묶어서 처리하여 I/O 횟수 감소

### 4️⃣ 네트워크 병목현상

**원인**

- 네트워크 통신의 대역폭이 제한되거나 지연 시간이 길어서 혹은 처리량이 낮으면 시스템 구성 요소 간의 데이터 교환 속도가 느려져 발생

**해결방안**

- **CDN(Content Delivery Network)**: 지리적으로 분산된 캐시 서버 활용
- **데이터 압축**: Gzip 등을 활용한 전송 데이터 크기 최소화
- **커넥션 풀링**: 연결 재사용을 통한 오버헤드 감소
- **HTTP/2 적용**: 멀티플렉싱으로 동시 요청 처리
- **이미지 최적화**: WebP 포맷, 적절한 해상도 사용

### 5️⃣ 데이터베이스 병목현상

**원인**

- 비효율적인 데이터베이스 쿼리, 인덱싱 부족 또는 부적절한 데이터베이스 최적화로 인해 발생
- 결과: 트랜잭션 처리 및 데이터 검색 속도 저하

**해결방안**

- **쿼리 최적화**: 실행계획 분석 및 효율적인 쿼리 작성
- **인덱스 전략**: 적절한 인덱스 생성 및 관리
- **데이터베이스 샤딩**: 수평 분할을 통한 부하 분산
- **읽기 전용 복제본**: Master-Slave 구조로 읽기 부하 분산
- **커넥션 풀 관리**: 적절한 커넥션 수 유지
- **파티셔닝**: 테이블을 논리적으로 분할하여 성능 향상

---

## 3. 소프트웨어 테스트에서 잠재적인 성능 병목 현상을 식별하는 방법

1. **성능 지표 및 목표 정의**

   - 사용자 기대치와 비즈니스 요구 사항을 기반으로 명확한 성능 지표와 목표를 수립. 지표에는 응답 시간, 처리량, 리소스 사용률 등이 포함

2. **성능 테스트 도구 사용**

   - 성능 테스트 도구를 사용하여 부하를 시뮬레이션하고 성능을 측정

3. **시스템 리소스 모니터링**

   - CPU, 메모리, 디스크 I/O, 네트워크 사용량 등 시스템 리소스를 지속적으로 모니터링

4. **로그 및 추적 분석**

   - 애플리케이션 로그와 추적을 조사하여 오류, 느린 트랜잭션, 리소스를 많이 사용하는 작업을 식별

5. **코드 프로파일링 수행**

   - VisualVM과 같은 코드 프로파일링 도구를 사용하여 개별 코드 세그먼트의 성능을 분석

6. **부하 및 스트레스 테스트 수행**

   - 부하 테스트는 예상 부하 조건에서 시스템 성능을 평가하는 반면, 스트레스 테스트는 극한 조건에서의 성능을 검사합니다. 이러한 테스트는 고부하 조건에서만 나타나는 병목 현상을 파악하는 데 도움

7. **데이터베이스 성능 분석**
   - 데이터베이스 모니터링 도구를 사용하여 쿼리 성능, 인덱싱 및 트랜잭션 효율성을 분석

---

### 용어

- **I/O작업**: input/output(입출력), 컴퓨터 내부와 외부 간의 데이터 주고받는 작업
- **APM**: Application Performance Monitoring, 애플리케이션 성능 모니터링
- **CDN**: Content Delivery Network, 콘텐츠 전송 네트워크
- **샤딩**: 데이터베이스를 수평적으로 분할하는 기법

---

[참고: ]()
