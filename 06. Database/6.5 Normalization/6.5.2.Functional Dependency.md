# 함수적 종속성(Functional Dependency)

## 1. 함수적 종속성이란? 
> DB에서 속성들간의 종속 관계

## 1-1. 개념 설명
- 관계형 데이터베이스에서 어떤 속성 X의 값이 주어지면, 다른 속성 Y의 값이 유일하게 결정되는 관계
    - `Y는 X에 함수 종속적이다`
    - 기호 : X → Y
    - 이때,
      - X : 결정자(determinant)
      - Y : 종속자(dependent)

## 1-2. 예시

### 1. 일반적인 예시
| 학번(StudentID) | 이름(Name) | 학과(Dept) |
| ------------- | -------- | -------- |
| 2023001       | 김지민      | 컴퓨터공학    |
| 2023002       | 이수연      | 전자공학     |
| 2023003       | 박지훈      | 기계공학     |

- 학번(X) → 이름(Y) 
⇒ 학번이 주어지면 이름은 항상 하나로 결정됨 (즉, 이름은 학번에 함수 종속)
   

- 학번 → 학과  
⇒ 학번이 주어지면 학과도 하나로 정해짐
  

- 이름 → 학번 ❌  
⇒ 이름이 같을 수도 있으므로, 하나의 이름으로 학번을 결정할 수 없음 (함수적 종속 ❌)

### 2. 복합키 예시
| 학번      | 과목코드  | 성적 |
| ------- | ----- | -- |
| 2023001 | CS101 | A  |
| 2023001 | MA101 | B  |
| 2023002 | CS101 | B+ |

- (학번, 과목코드) → 성적  
⇒ 어떤 학생이 어떤 과목을 수강했을 때의 성적은 유일하게 결정됨

## 1-3. 함수적 종속 3가지 종류
    - 완전 함수 종속(Full Functional Dependency)
    - 부분 함수 종속(Partial Functional Dependency)
    - 이행적 함수 종속(transitive Dependency)

---

## 2. 완전 함수 종속(Full Functional Dependency)

> 기본키 전체에 종속되는 관계  
> 즉, 기본키의 모든 속성을 사용했을 때만 종속되는 관계 

| 고객\_id | 상품\_id | 주문상품 | 수량 | 가격    |
| ------ | ------ | ---- | -- | ----- |
| 001    | AAA    | 베개   | 2  | 10000 |
| 001    | AAB    | 이불   | 1  | 35000 |
| 002    | AAB    | 이불   | 1  | 35000 |
| 003    | AAB    | 이불   | 2  | 70000 |

- 기본키 : 고객_id, 상품_id
- 종속관계 :
  - `(고객_id, 상품_id) → 수량`
  - 결정자 : 고객_id, 상품_id
  - 종속자 : 수량  
  ⇒ 수량은 완전함수에 종속

## 3. 부분 함수 종속(Partial Functional Dependency)

> 기본키의 일부 속성에만 종속되는 관계  
> → 제 2정규형 위반에 해당

- 상품_id → 주문상품  
  - 기본키의 `일부(상품_id)`에만 종속 ⇒ 부분 함수 종속


- 고객_id, 상품_id, 수량 → 가격
  - 수량에 따라 가격이 달라지는 경우 
  - 수량은 이미 고객_id, 상품_id → 수량 이므로   
  ⇒ 가격은 부분 함수 종속

## 4. 이행적 함수 종속(transitive Dependency)
> X → Y이고, Y → Z일 때, X → Z가 성립하고   
> Z가 X에 직접 종속되지 않은 경우, Z는 X에 이행적으로 종속되어 있다고 함  
> → 이는 제3정규형 위반에 해당함

- 고객_id, 상품_id → 수량
- 수량 → 가격  
  - 고객_id, 상품_id → 수량 → 가격   
  ⇒ 가격은 고객_id, 상품_id에 이행적으로 종속

---

> 부분 함수 종속, 이행적 종속은 데이터 중복, 삽입/삭제 이상 등의 문제를 발생시킴  
> 이를 해결하기 위해 **정규화(Normalization)**를 진행함
	