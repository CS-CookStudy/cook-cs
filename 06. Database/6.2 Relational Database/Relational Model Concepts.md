# 관계형 모델의 개념 정리

## 1. 관계형 모델 개요

### 정의

**관계형 모델(Relational Model)** 은 데이터를 **테이블(Table) 형태**로 구조화하여 저장하고 관리하는 데이터 모델이다.

### 개발 배경

- **1970년 Edgar F. Codd**가 IBM에서 개발
- 기존 계층형/네트워크형 데이터베이스의 복잡성 해결
- **수학적 관계 이론(Set Theory)** 에 기반

### 핵심 아이디어

- 모든 데이터를 **2차원 테이블**로 표현
- 테이블 간의 **관계(Relationship)** 로 데이터 연결
- **SQL**이라는 표준 언어로 데이터 조작

---

## 2. 관계형 모델의 기본 구성 요소

### 2.1 관계(Relation) = 테이블(Table)

**정의**: 동일한 구조를 가진 데이터들의 집합

```
학생 테이블 (학생 관계)
┌────────┬────────┬──────────────┬────────┐
│  학번  │  이름  │    학과        │  학년  │
├────────┼───────┼───────────────┼────────┤
│ 2021001│ 김철수 │ 건축공학과      │   2   │
│ 2021002│ 이영희 │ 전자공학과      │   3   │
│ 2021003│ 박민수 │ 기계공학과      │   1   │
└────────┴───────┴───────────────┴────────┘
```

### 2.2 속성(Attribute) = 컬럼(Column)

**정의**: 테이블에서 각 데이터 항목의 의미있는 이름

```
학생 테이블의 속성들:
- 학번 (Student_ID)
- 이름 (Name)
- 학과 (Department)
- 학년 (Grade)
```

### 2.3 튜플(Tuple) = 행(Row) = 레코드(Record)

**정의**: 하나의 개체에 대한 정보를 나타내는 속성값들의 집합

```
하나의 튜플 예시:
(2021001, 김철수, 컴퓨터공학과, 2)
```

### 2.4 도메인(Domain)

**정의**: 각 속성이 가질 수 있는 값들의 집합

```
속성별 도메인 예시:
- 학번: 7자리 문자열 (예: 2021001)
- 이름: 20자 이내 한글 문자열
- 학과: 30자 이내 한글 문자열
- 학년: 1~4 사이의 정수
```

---

## 3. 관계형 모델의 특징

### 3.1 데이터 독립성

- **논리적 독립성**: 테이블 구조 변경이 응용프로그램에 미치는 영향 최소화
- **물리적 독립성**: 저장 방식 변경이 논리 구조에 영향 없음

### 3.2 정확성과 일관성

- **제약조건**: 데이터 무결성 자동 검사
- **트랜잭션**: 일관된 상태 유지 보장
- **표준화**: SQL이라는 표준 언어 사용

### 3.3 유연성

- **동적 스키마 변경**: 런타임에 테이블 구조 수정 가능
- **다양한 질의**: 복잡한 검색 조건 표현 가능
- **확장성**: 새로운 테이블과 관계 추가 용이

### 3.4 단순성

- **직관적 구조**: 테이블 형태로 이해하기 쉬움
- **수학적 기반**: 관계 대수와 관계 해석으로 정형화
- **표준화**: ANSI/ISO SQL 표준 준수

---

## 4. 관계형 모델의 제약조건

### 4.1 개체 무결성 (Entity Integrity)

**규칙**: 기본 키는 NULL 값을 가질 수 없음

```
올바른 예:
학번(PK) │ 이름
─────────┼─────
2021001  │ 김철수
2021002  │ 이영희

잘못된 예:
학번(PK) │ 이름
─────────┼─────
NULL     │ 김철수  ← 기본키가 NULL (위반!)
2021002  │ 이영희
```

### 4.2 참조 무결성 (Referential Integrity)

**규칙**: 외래 키는 참조하는 테이블의 기본 키 값이거나 NULL이어야 함

```
학생 테이블:
학번     │ 학과코드
─────────┼─────────
2021001  │ CSE
2021002  │ EE

학과 테이블:
학과코드 │ 학과명
─────────┼──────────────
CSE      │ 컴퓨터공학과
EE       │ 전자공학과

→ 학생 테이블의 학과코드는 학과 테이블에 존재해야 함
```

### 4.3 도메인 무결성 (Domain Integrity)

**규칙**: 각 속성 값은 정의된 도메인 범위 내에 있어야 함

```
예시:
학년 속성의 도메인: {1, 2, 3, 4}

올바른 값: 1, 2, 3, 4
잘못된 값: 0, 5, -1, "sophomore"
```

### 4.4 키 제약조건 (Key Constraints)

**규칙**: 기본 키는 유일해야 하며, 각 튜플을 고유하게 식별해야 함

```
올바른 예:
학번(PK) │ 이름
─────────┼─────
2021001  │ 김철수
2021002  │ 이영희

잘못된 예:
학번(PK) │ 이름
─────────┼─────
2021001  │ 김철수
2021001  │ 박민수  ← 기본키 중복 (위반!)
```

---

## 5. 관계형 모델의 키(Key) 개념

### 5.1 슈퍼 키 (Super Key)

**정의**: 튜플을 유일하게 식별할 수 있는 속성들의 집합

```
학생 테이블에서 슈퍼 키 예시:
- {학번}
- {학번, 이름}
- {학번, 이름, 학과}
- {주민번호}
- {주민번호, 이름}
```

### 5.2 후보 키 (Candidate Key)

**정의**: 슈퍼 키 중에서 최소한의 속성으로 구성된 키

```
학생 테이블에서 후보 키:
- {학번} ← 최소 속성으로 유일 식별 가능
- {주민번호} ← 최소 속성으로 유일 식별 가능

{학번, 이름}은 슈퍼 키이지만 후보 키가 아님 (이름 제거해도 유일 식별 가능)
```

### 5.3 기본 키 (Primary Key)

**정의**: 후보 키 중에서 선택된 대표 키

```
선택 기준:
1. 값이 변경될 가능성이 낮음
2. 단순함 (속성 수가 적음)
3. 의미적 중요성

학생 테이블: 학번을 기본 키로 선택
(주민번호보다 단순하고 업무적으로 더 중요)
```

### 5.4 외래 키 (Foreign Key)

**정의**: 다른 테이블의 기본 키를 참조하는 속성

```
수강 테이블:
학번(FK)  │ 과목코드(FK)  │ 성적
─────────┼──────────────┼─────
2021001  │ CS101        │ A+
2021002  │ EE201        │ B+

- 학번: 학생 테이블의 기본 키를 참조
- 과목코드: 과목 테이블의 기본 키를 참조
```

### 5.5 대체 키 (Alternate Key)

**정의**: 기본 키로 선택되지 않은 나머지 후보 키들

```
학생 테이블에서:
- 기본 키: 학번
- 대체 키: 주민번호

→ 주민번호도 유일 식별 가능하지만 기본 키로 선택되지 않음
```

---

## 6. 관계형 모델의 관계 유형

### 6.1 일대일 관계 (1:1)

**특징**: 한 개체가 다른 개체와 최대 하나의 관계

```
사원 ←──→ 사무실
한 사원은 최대 하나의 개인 사무실 보유
한 사무실은 최대 한 명의 사원이 사용
```

### 6.2 일대다 관계 (1:N)

**특징**: 한 개체가 여러 개체와 관계, 가장 일반적

```
학과 ←──→ 학생
하나의 학과에는 여러 학생이 소속
한 학생은 하나의 학과에만 소속
```

### 6.3 다대다 관계 (M:N)

**특징**: 양쪽 개체 모두 여러 관계 가능

```
학생 ←──→ 과목
한 학생은 여러 과목 수강 가능
한 과목은 여러 학생이 수강 가능

→ 수강 테이블로 분해하여 구현
```

---

## 7. 관계형 모델의 연산

### 7.1 관계 대수 (Relational Algebra)

**정의**: 관계형 데이터베이스에서 데이터를 조작하는 절차적 언어

**주요 연산**:

- **선택(Selection)**: σ 조건에 맞는 튜플 선택
- **투상(Projection)**: π 특정 속성들만 추출
- **합집합(Union)**: ∪ 두 관계의 합
- **교집합(Intersection)**: ∩ 두 관계의 공통 부분
- **차집합(Difference)**: - 두 관계의 차이
- **곱집합(Cartesian Product)**: × 두 관계의 모든 조합
- **조인(Join)**: ⋈ 조건에 따른 관계 결합

### 7.2 관계 해석 (Relational Calculus)

**정의**: 원하는 결과만 명시하는 선언적 언어

**특징**:

- **비절차적**: 어떻게(How)가 아닌 무엇을(What) 명시
- **SQL의 이론적 기반**
- **튜플 관계 해석**과 **도메인 관계 해석**으로 구분
