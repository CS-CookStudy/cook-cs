# 스마트 컨트랙트 개념

## 1. 스마트 컨트랙트 개요

### 스마트 컨트랙트란?

- **블록체인에서 자동으로 실행되는 프로그램**
- **계약 조건을 코드로 작성**하여 조건 만족 시 자동 실행
- **중간 매개자 없이** 신뢰할 수 있는 거래 가능
- **불변성**을 가져 배포 후 수정 불가능

### 전통적 계약 vs 스마트 컨트랙트

**전통적 계약:**

- 종이나 전자 문서로 작성
- 제3자(은행, 법원 등)가 계약 이행 보장
- 수동적 실행, 분쟁 발생 가능
- 시간과 비용 소요

**스마트 컨트랙트:**

- 코드로 작성된 디지털 계약
- 블록체인이 자동으로 계약 실행
- 조건 만족 시 즉시 자동 실행
- 투명하고 조작 불가능

## 2. 스마트 컨트랙트 동작 원리

### 기본 구조

```
if (조건1 && 조건2) {
    실행할 액션
} else {
    대안 액션
}
```

### 동작 과정

1. **계약 배포**: 스마트 컨트랙트를 블록체인에 배포
2. **조건 모니터링**: 설정된 조건들을 지속적으로 확인
3. **자동 실행**: 조건 만족 시 사전 정의된 액션 수행
4. **결과 기록**: 실행 결과를 블록체인에 영구 기록

### 실행 환경

**이더리움 가상머신 (EVM):**

- 스마트 컨트랙트가 실행되는 분산 컴퓨터
- 모든 네트워크 노드에서 동일하게 실행
- **가스(Gas)** 개념으로 실행 비용 지불

## 3. 스마트 컨트랙트 개발

### Solidity 프로그래밍 언어

**이더리움 스마트 컨트랙트 개발**을 위한 전용 언어입니다.

- JavaScript와 유사한 문법
- 정적 타입 언어
- 객체 지향 프로그래밍 지원

### 기본 구조 예시

```solidity
pragma solidity ^0.8.0;

contract SimpleContract {
    // 상태 변수
    uint256 public value;
    address public owner;

    // 생성자
    constructor() {
        owner = msg.sender;
    }

    // 함수
    function setValue(uint256 _value) public {
        require(msg.sender == owner, "Only owner can set value");
        value = _value;
    }
}
```

### 개발 도구

**Remix IDE:**

- 웹 기반 통합 개발 환경
- 컴파일, 배포, 디버깅 지원
- 초보자에게 적합

**Hardhat/Truffle:**

- 전문적인 개발 프레임워크
- 테스트 자동화, 배포 스크립트 지원
- 대규모 프로젝트에 적합

## 4. 가스(Gas) 시스템

### 가스란?

- **스마트 컨트랙트 실행 비용**을 측정하는 단위
- 각 연산마다 가스 비용이 책정됨
- **이더(ETH)**로 가스 비용 지불

### 가스 계산

```
총 비용 = 가스 사용량 × 가스 가격

예시:
- 가스 사용량: 21,000 가스
- 가스 가격: 20 Gwei (0.00000002 ETH)
- 총 비용: 0.00042 ETH
```

### 가스 최적화

**효율적인 코드 작성:**

- 불필요한 연산 제거
- 상태 변수 사용 최소화
- 루프 사용 신중히 고려

## 5. 스마트 컨트랙트 유형

### ERC-20 토큰

**대체 가능한 토큰**의 표준 규격입니다.

- 모든 토큰이 동일한 가치
- 암호화폐, 포인트, 주식 등에 활용
- 주요 함수: transfer, balanceOf, approve

### ERC-721 NFT

**대체 불가능한 토큰**의 표준 규격입니다.

- 각 토큰이 고유한 가치
- 디지털 아트, 게임 아이템, 부동산 등에 활용
- 주요 함수: ownerOf, tokenURI, transferFrom

### 다중 서명 계약 (Multi-sig)

**여러 사람의 동의**가 필요한 계약입니다.

- N명 중 M명 이상의 서명으로 실행
- 보안성 향상, 단일 실패 지점 제거
- DAO 운영, 자금 관리에 활용

## 6. DeFi (탈중앙화 금융)

### DeFi란?

- **Decentralized Finance**: 탈중앙화 금융 서비스
- 전통적 금융 서비스를 스마트 컨트랙트로 구현
- 중개자 없는 금융 거래

### 주요 DeFi 서비스

**탈중앙화 거래소 (DEX):**

- Uniswap, SushiSwap 등
- 자동화된 마켓 메이커 (AMM) 모델
- 유동성 풀을 통한 거래

**대출/차입 서비스:**

- Aave, Compound 등
- 담보 기반 대출
- 이자율 자동 조정

**수익률 파밍 (Yield Farming):**

- 유동성 제공으로 수익 창출
- 다양한 DeFi 프로토콜 활용
- 높은 수익률과 높은 위험성

## 7. DAO (탈중앙화 자율 조직)

### DAO란?

- **Decentralized Autonomous Organization**
- 스마트 컨트랙트로 운영되는 조직
- 중앙 관리자 없이 토큰 보유자들이 의사결정

### DAO 운영 방식

1. **제안 생성**: 누구나 개선 제안 가능
2. **투표 진행**: 토큰 보유량에 따라 투표권 배분
3. **자동 실행**: 가결된 제안은 스마트 컨트랙트가 자동 실행

### DAO 활용 사례

- **거버넌스 토큰**: 프로젝트 운영 방향 결정
- **투자 DAO**: 공동 투자 펀드 운영
- **프로토콜 DAO**: DeFi 프로토콜 관리
