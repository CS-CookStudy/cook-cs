# 블록체인 기본 원리

## 1. 블록체인 개요

### 블록체인이란?

- **분산 원장 기술**의 일종으로 데이터를 블록 단위로 연결하여 저장
- **중앙 관리자 없이** 네트워크 참여자들이 공동으로 데이터를 관리
- **암호화**와 **해시 함수**를 사용하여 데이터 무결성 보장
- **투명성**과 **불변성**을 특징으로 하는 분산 시스템

### 중앙집중형 vs 분산형 시스템

**중앙집중형 시스템:**

- 은행, 정부 등 중앙 기관이 모든 거래 기록 관리
- 단일 실패 지점 존재
- 빠른 처리 속도, 효율적 관리

**분산형 시스템 (블록체인):**

- 모든 참여자가 동일한 거래 기록 보유
- 단일 실패 지점 없음
- 느린 처리 속도, 높은 보안성

## 2. 블록체인 구조

### 블록 (Block)

각 블록은 다음 요소들로 구성됩니다:

**블록 헤더:**

- **이전 블록 해시**: 이전 블록을 가리키는 해시값
- **머클 루트**: 블록 내 모든 거래의 요약 해시
- **타임스탬프**: 블록 생성 시간
- **논스(Nonce)**: 작업 증명을 위한 임의값

**블록 바디:**

- **거래 목록**: 실제 거래 데이터들

### 체인 (Chain)

```
Genesis Block → Block 1 → Block 2 → Block 3 → ...
      ↓            ↓          ↓          ↓
   Hash: ABC    Hash: DEF  Hash: GHI  Hash: JKL
                이전: ABC  이전: DEF  이전: GHI
```

각 블록이 이전 블록의 해시를 포함하여 **체인 형태**로 연결됩니다.

### 해시 함수의 역할

**SHA-256 해시 함수**를 주로 사용합니다:

- 입력 데이터가 조금만 바뀌어도 완전히 다른 해시값 생성
- **일방향 함수**: 해시값으로부터 원본 데이터 복구 불가능
- **고정 길이**: 입력 크기와 관계없이 256비트 해시값 생성

## 3. 분산 합의 알고리즘

### 작업 증명 (Proof of Work, PoW)

**비트코인**에서 사용하는 합의 알고리즘입니다.

**동작 원리:**

1. 새로운 블록을 생성하려는 **채굴자**들이 경쟁
2. 특정 조건을 만족하는 **논스값**을 찾는 문제 해결
3. 가장 먼저 해답을 찾은 채굴자가 **블록 생성 권한** 획득
4. 다른 노드들이 **검증 후 합의**

**특징:**

- 높은 보안성
- 많은 전력 소비
- 느린 처리 속도 (비트코인: 약 10분/블록)

### 지분 증명 (Proof of Stake, PoS)

**이더리움 2.0**에서 채택한 합의 알고리즘입니다.

**동작 원리:**

1. **지분**(보유 토큰 수)에 비례하여 블록 생성자 선택
2. 선택된 **검증자**가 새 블록 생성
3. 부정 행위 시 지분 **몰수** (슬래싱)

**특징:**

- 낮은 전력 소비
- 빠른 처리 속도
- 지분 집중화 우려

## 4. 블록체인 네트워크 유형

### 퍼블릭 블록체인 (Public Blockchain)

**누구나 참여 가능한 완전 개방형** 네트워크입니다.

- 완전한 탈중앙화
- 높은 보안성과 투명성
- 느린 처리 속도
- 예시: 비트코인, 이더리움

### 프라이빗 블록체인 (Private Blockchain)

**특정 조직 내부에서만 사용**하는 폐쇄형 네트워크입니다.

- 중앙 관리 기관 존재
- 빠른 처리 속도
- 제한적인 투명성
- 예시: 기업 내부 거래 시스템

### 컨소시엄 블록체인 (Consortium Blockchain)

**여러 조직이 공동으로 운영**하는 반개방형 네트워크입니다.

- 선별된 참여자만 합의 과정 참여
- 퍼블릭과 프라이빗의 중간 형태
- 예시: 은행 간 송금 네트워크

## 5. 암호화 기술

### 해시 함수

**데이터 무결성 검증**에 사용됩니다.

- 블록 내 데이터가 변경되면 해시값도 변경
- 체인 연결 구조로 과거 데이터 변조 탐지 가능

### 디지털 서명

**거래 인증**과 **부인 방지**에 사용됩니다.

**동작 과정:**

1. 개인키로 거래 데이터에 **서명**
2. 공개키로 서명의 **유효성 검증**
3. 개인키 소유자만이 유효한 서명 생성 가능

**공개키 암호화:**

- **개인키**: 본인만 알고 있는 비밀 키
- **공개키**: 누구나 알 수 있는 공개 키
- **일방향 수학적 관계**: 공개키로부터 개인키 유추 불가능

### 머클 트리 (Merkle Tree)

**다수의 거래를 효율적으로 요약**하는 이진 트리 구조입니다.

- 모든 거래를 하나의 머클 루트로 요약
- 특정 거래의 포함 여부를 빠르게 검증 가능
- 블록 크기 최적화

## 6. 블록체인의 특징

### 불변성 (Immutability)

한 번 기록된 데이터는 **변경하기 매우 어렵습니다**.

- 이전 블록 변경 시 이후 모든 블록 재계산 필요
- 네트워크 과반수 이상의 동의 필요
- **데이터 무결성** 보장

### 투명성 (Transparency)

모든 거래 기록이 **공개적으로 확인 가능**합니다.

- 누구나 블록체인 데이터 조회 가능
- 거래 내역의 **추적성** 제공
- **익명성**과 **투명성**의 균형

### 탈중앙화 (Decentralization)

**중앙 관리 기관이 없는** 분산 시스템입니다.

- 단일 실패 지점 없음
- **검열 저항성**: 특정 기관이 거래 차단 불가
- 네트워크 참여자들의 **민주적 합의**
