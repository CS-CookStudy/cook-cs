# 7.9 λ„¤νΈμ›ν¬ λ³΄μ•

# λ¬΄μ„  λ„¤νΈμ›ν¬ λ³΄μ• (WEP, WPA, WPA2, WPA3)

## λ¬΄μ„  λ„¤νΈμ›ν¬ λ³΄μ•μ΄ ν•„μ”ν• μ΄μ 
- λ¬΄μ„ (Wi-Fi)μ€ μ μ„ κ³Ό λ‹¬λ¦¬ **μ „νκ°€ κ³µμ¤‘μΌλ΅ λ…Έμ¶**λμ–΄ μμ–΄ λ„κµ¬λ“ μ§€ μ ‘κ·Ό κ°€λ¥
- λ”°λΌμ„ **λ°μ΄ν„° λ„μ²­, λ³€μ΅°, μ„μ΅°, λ¶λ²• μ ‘μ†**μ„ λ°©μ§€ν•κΈ° μ„ν•΄ κ°•λ ¥ν• μ•”νΈν™” λ° μΈμ¦ κΈ°μ μ΄ ν•„μ”

---

# λ³΄μ• λ°©μ‹μ λ°μ „ κ³Όμ • μ”μ•½

| λ³΄μ• λ°©μ‹    | μ£Όμ” μ•”νΈν™”      | μΈμ¦ λ°©μ‹         | μ¶μ‹ μ—°λ„ | λ³΄μ• μμ¤€       |
| -------- | ----------- | ------------- | ----- | ----------- |
| **WEP**  | RC4 (κ³ μ • ν‚¤)  | μ—†μ            | 1997  | β λ§¤μ° μ·¨μ•½     |
| **WPA**  | TKIP (λ™μ  ν‚¤) | PSK λλ” 802.1X | 2003  | β οΈ μ„μ‹ κ°μ„     |
| **WPA2** | AES-CCMP    | PSK λλ” 802.1X | 2004  | β… λ³΄νΈμ  κΈ°μ¤€    |
| **WPA3** | AES-GCMP    | **SAE**       | 2018  | π” μµμ‹  μµκ³  μμ¤€ |

</br>

---

### π”Έ WEP (Wired Equivalent Privacy)
> μ΄μ°½κΈ° λ¬΄μ„  λ³΄μ• ν”„λ΅ν† μ½, μ μ„ κ³Ό λΉ„μ·ν• μμ¤€μ λ³΄μ•μ„ λ©ν‘λ΅ ν•¨

* **μ•”νΈν™” λ°©μ‹**: RC4 μ¤νΈλ¦Ό μ•”νΈν™” + κ³ μ • Initialization Vector (IV)
* **λ¬Έμ μ **

  * IVκ°€ **24bit**λ΅ λ„λ¬΄ μ§§μ•„μ„ **μ¬μ‚¬μ©λ¨**
  * **ν¨ν‚· μ¤λ‹ν•‘**μΌλ΅ λ‡ λ¶„ λ§μ— ν‚¤λ¥Ό ν•΄λ… κ°€λ¥
  * **μΈμ¦ μ—†μ**, **λ¬΄κ²°μ„± κ²€μ¦ λ¶€μ‹¤**
* **λ€ν‘μ  κ³µκ²©**: Aircrack-ng, MITM, Evil Twin, Replay κ³µκ²©
* β **λ³΄μ•μ΄ κ±°μ μ—†λ” μμ¤€**μ΄λΌ ν„μ¬λ” μ‚¬μ© κΈμ§€

---

### π”Έ WPA (Wi-Fi Protected Access)
> WEPμ μ·¨μ•½μ μ„ μ„μ‹ κ°μ„ ν• λ°©μ‹

* **μ•”νΈν™” λ°©μ‹**: **TKIP (Temporal Key Integrity Protocol)** μ‚¬μ©
  * ν¨ν‚·λ§λ‹¤ **μ„μ‹ ν‚¤**λ¥Ό λ™μ μΌλ΅ μƒμ„±ν•μ—¬ ν‚¤ μ¬μ‚¬μ©μ„ λ°©μ§€ -> λ³΄μ•μ„± ν–¥μƒ
* **μΈμ¦ λ°©μ‹**: PSK (Pre-Shared Key) λλ” EAP (κΈ°μ—… ν™κ²½)
* **λ³΄μ• κ°μ„ **: λ©”μ‹μ§€ λ¬΄κ²°μ„±, ν‚¤ κΈΈμ΄ μ¦κ°€, IV λ¬΄μ‘μ„ν™”
* **ν•κ³„μ **:

  * μ—¬μ „ν **RC4 κΈ°λ°** β†’ κµ¬μ΅°μ  ν•κ³„ μ΅΄μ¬
  * μ¤λλ‚  κΈ°μ¤€μ—μ„λ” **λ” μ΄μƒ μ•μ „ν•μ§€ μ•μ**

---

### π”Έ WPA2 (Wi-Fi Protected Access 2)
> WPAμ ν›„μ† λ²„μ „, λ¬΄μ„  λ„¤νΈμ›¨ν¬ λ³΄μ•μ—μ„ κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” ν‘μ¤€

* **μ•”νΈν™”**: **AES κΈ°λ° CCMP (Counter Mode CBC-MAC Protocol)**

* **μΈμ¦**:

  * **WPA2-Personal**: λΉ„λ°€λ²νΈ κΈ°λ° PSK
  * **WPA2-Enterprise**: 802.1X + RADIUS + EAP μΈμ¦

* **μ¥μ **:

  * AES μ‚¬μ©μΌλ΅ κ°•λ ¥ν• μ•”νΈν™”
  * CCMPλ΅ λ°μ΄ν„° λ¬΄κ²°μ„±κΉμ§€ λ³΄μ¥
* **λ‹¨μ **:

  * **λΈλ£¨νΈν¬μ¤ κ³µκ²© κ°€λ¥** (PSK μ§§κ±°λ‚ λ‹¨μν•  κ²½μ°)
  * **KRACK κ³µκ²©**: 4-way handshake κ³Όμ •μ—μ„μ ν‚¤ μ¬μ‚¬μ© λ¬Έμ 

---

### π”Έ WPA3 (Wi-Fi Protected Access 3)
> WPA2μ ν›„μ† ν‘μ¤€, 2018λ…„μ— λ°ν‘λ μµμ‹  λ¬΄μ„  λ„¤νΈμ›ν¬ λ³΄μ• ν”„λ΅ν† μ½

* **μΈμ¦**: **SAE (Simultaneous Authentication of Equals)**

  * Diffie-Hellmanμ„ κΈ°λ°μΌλ΅ ν• **μ„λ΅ λ€λ“±ν• μΈμ¦ μ μ°¨**
  * 4-way handshakeλ¥Ό λ€μ²΄ β†’ KRACK κ³µκ²© μ°¨λ‹¨
* **μ•”νΈν™”**: AES-GCMP or 192bit suite (κΈ°μ—…μ©)
* **λ³΄μ•μ„±**:

  * μ¤ν”„λΌμΈ μ‚¬μ „ κ³µκ²© μ°¨λ‹¨ (dictionary κ³µκ²© λ°©μ§€)
  * Perfect Forward Secrecy μ κ³µ
  * κ³µκ° Wi-Fi μ•”νΈν™”: **OWE (Opportunistic Wireless Encryption)**
* **λ¨λ“**:

  * WPA3-Personal
  * WPA3-Enterprise (μµλ€ 192bit μ•”νΈν™” μ κ³µ)
* **λ‹¨μ **:

  * κΈ°κΈ° νΈν™μ„± μ΄μ (νΉν κµ¬ν• μ¥λΉ„)
  * μ—°κ²° μ†λ„ λ¬Έμ 

</br>

---

### WPA2 vs WPA3 λΉ„κµ

| ν•­λ©              | WPA2          | WPA3             |
| --------------- | ------------- | ---------------- |
| μ•”νΈν™”             | AES-CCMP      | AES-GCMP         |
| μΈμ¦ λ°©μ‹           | PSK λλ” EAP    | **SAE (PSK λ€μ²΄)** |
| μ¤ν”„λΌμΈ κ³µκ²©         | κ°€λ¥ (PSK μ μ¶ μ‹) | μ°¨λ‹¨               |
| KRACK κ³µκ²©        | μ·¨μ•½            | ν•΄κ²°               |
| κ³µκ° Wi-Fi λ³΄μ•     | μ—†μ            | **OWE μ κ³µ**       |
| Forward Secrecy | μ—†μ            | μμ               |
| νΈν™μ„±             | λ€λ¶€λ¶„ μ¥μΉ μ§€μ›     | μΌλ¶€ μµμ‹  μ¥μΉ ν•„μ”      |

---

###  λ™μ‘ λ°©μ‹ λ„μ‹ν™” (WPA3 κΈ°μ¤€)

```
   [ μ‚¬μ©μ ]                                 [ AP (Router) ]
       β”‚                                              β”‚
       β”‚       β‘  SAE μ•”νΈκΈ°λ° κµν™ (κ³µλ™ λΉ„λ°€ μƒμ„±)     β”‚
       β”‚<β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€>β”‚
       β”‚                                              β”‚
       β”‚       β‘΅ μ„Έμ… ν‚¤ λ„μ¶ (AES μ•”νΈν‚¤)             β”‚
       β”‚β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€>β”‚
       β”‚                                              β”‚
       β”‚       β‘Ά μ•”νΈν™”λ ν†µμ‹  μ‹μ‘ (AES-GCMP μ‚¬μ©)     β”‚
       β”‚<β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€>β”‚
```

---

### μ‹¤μ  μ‚¬λ΅€

* **κΈ°μ—…/κΈ°κ΄€ λ¬΄μ„  λ³΄μ•**: WPA2-Enterprise or WPA3-Enterprise
* **κ°€μ •μ© κ³µμ κΈ°**: WPA2-Personal or WPA3-Personal
* **κ³µκ³µμ¥μ† κ³µκ° Wi-Fi**: WPA3μ—μ„ OWE μ μ© κ°€λ¥ (λ‹¨, μ§€μ› μ¥λΉ„ ν•μ •)
* **λ¬Έμ μ **:

  * **Wi-Fi λΉ„λ°€λ²νΈ κ³µμ  μ„ν—**
  * **Evil Twin κ³µκ²©**: κ°€μ§ APλ¥Ό ν†µν• MITM
  * **κ³µκ° μ™€μ΄νμ΄**: μ•”νΈν™” μ—†μ΄ ν‰λ¬Έ μ „μ†΅ β†’ μ¤λ‹ν•‘ κ°€λ¥

---

### μ¶”κ°€ κ°λ…λ“¤

* **TKIP vs CCMP vs GCMP**

  * TKIP: WPA / RC4 κΈ°λ° (λ” μ΄μƒ μ‚¬μ© κΈμ§€)
  * CCMP: WPA2 / AES κΈ°λ°
  * GCMP: WPA3 / AES κΈ°λ°, λ” λΉ λ¥΄κ³  μ•μ „ν•¨

* **TKIP (Temporal Key Integrity Protocol)**
> WPAμ—μ„ μ‚¬μ©λ μ•”νΈν™” ν”„λ΅ν† μ½λ΅, WEPμ λ³΄μ• μ·¨μ•½μ μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ λ„μ…

  * RC4 μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ©΄μ„, ν¨ν‚·λ§λ‹¤ μ„μ‹ ν‚¤λ¥Ό μƒμ„±ν•μ—¬ WEPμ κ³ μ • ν‚¤ λ¬Έμ λ¥Ό ν•΄κ²°
  * WPA2λ΅ λ€μ²΄λμ—μΌλ©°, λ” μ΄μƒ κ¶μ¥λμ§€ μ•μ

* **CCMP (Counter Mode with Cipher Block Chaining Message Authentication Code Protocol)**
> WPA2μ—μ„ μ‚¬μ©λλ” μ•”νΈν™” ν”„λ΅ν† μ½λ΅, TKIPλ¥Ό λ€μ²΄ν•κΈ° μ„ν•΄ λ“±μ¥

  * AES λΈ”λ΅ μ•”νΈν™”λ¥Ό κΈ°λ°μΌλ΅ λ™μ‘
  * CCMPλ” AES μ•”νΈν™”λ¥Ό μ‚¬μ©ν•μ—¬ WEPμ™€ TKIPμ λ³΄μ• λ¬Έμ λ¥Ό ν•΄κ²°
  * WPA2 λ° WPA3μ—μ„ μ‚¬μ©λλ©°, λ¬΄μ„  λ„¤νΈμ›ν¬μ ν‘μ¤€ μ•”νΈν™” λ°©μ‹μΌλ΅ μλ¦¬ μ΅μ

* **SAE (Simultaneous Authentication of Equals)**
> WPA3μ—μ„ μ‚¬μ©λλ” **ν•Έλ“μ„Έμ΄ν¬ λ°©μ‹**, λ³΄λ‹¤ κ°•λ ¥ν• ν‚¤ κµν™μ„ μ κ³µ

  * ν¨μ¤μ›λ“ κΈ°λ° PAKE (Password Authenticated Key Exchange)
  * λΈλ£¨νΈ ν¬μ¤ κ³µκ²©μ— λ€ν• μ €ν•­λ ¥μ„ κ°•ν™”ν•μ—¬, WPA2μ—μ„ λ°μƒν•λ λ”•μ…”λ„λ¦¬ κ³µκ²© λ¬Έμ λ¥Ό ν•΄κ²°
  * WPA3μ—μ„ λ„λ¦¬ μ‚¬μ©λλ©°, WPA2μ μ·¨μ•½μ μ„ λ³΄μ™„ν•λ” μ—­ν• 

* **OWE (Opportunistic Wireless Encryption)**

  * κ³µκ° μ™€μ΄νμ΄μ—μ„λ„ κ°μΈλ‹Ή **1:1 μ•”νΈν™” μ±„λ„ ν•μ„±**
  * λ‹¨, **μΈμ¦μ€ μ—†μ** β†’ MITM λ°©μ§€μ—λ” λ―Έν΅