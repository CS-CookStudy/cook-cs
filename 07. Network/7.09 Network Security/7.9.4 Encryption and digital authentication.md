# 7.9 λ„¤νΈμ›ν¬ λ³΄μ•

# μ•”νΈν™”μ™€ λ””μ§€ν„Έ μΈμ¦μ„

---
# μ•”νΈν™”

## π”„οΈ λ€μΉ­ν‚¤ μ•”νΈν™” (Symmetric Key Encryption)
> **ν•λ‚μ ν‚¤**λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•λ” λ°©μ‹

* μ†΅μ‹ μμ™€ μμ‹ μκ°€ **κ°™μ€ ν‚¤λ¥Ό κ³µμ **ν•΄μ•Ό ν•¨
  - λ³΄μ•μ μΌλ΅ λ¬Έμ κ°€ λ¨(ν‚¤ λ°°μ†΅ λ¬Έμ )
  - ν‚¤ λ°°μ†΅ λ¬Έμ  : μ‚¬μ „μ— ν‚¤λ¥Ό κ³µμ ν•μ§€ μ•μΌλ©΄ μ•”νΈν™”/λ³µνΈν™” λ¶κ°€
      - : μ¤‘κ°„μ— νƒμ·¨ λ‹Ήν•λ©΄ λ°μ΄ν„°μ μ •λ³΄ λ³΄μ•μ΄ λμ§€ μ•μ

### λ€ν‘ μ•κ³ λ¦¬μ¦

| μ•κ³ λ¦¬μ¦                                   | μ„¤λ…                            |
| -------------------------------------- | ----------------------------- |
| **AES** (Advanced Encryption Standard) | 128/192/256-bit λΈ”λ΅ μ•”νΈ, λΉ λ¥΄κ³  μ•μ „ |
| **DES** (Data Encryption Standard)     | 56-bit ν‚¤, ν„μ¬λ” λ³΄μ•μ— μ·¨μ•½          |

### νΉμ§•

* μ•”νΈν™”/λ³µνΈν™” μ†λ„ **λΉ λ¦„**
* ν‚¤ λ¶„λ°°κ°€ **μ–΄λ ¤μ›€** (Key Distribution Problem)

### μ¥λ‹¨μ 

| μ¥μ            | λ‹¨μ                                         |
| ------------ | ----------------------------------------- |
| μ—°μ‚° μ†λ„κ°€ λΉ λ¦„    | ν‚¤ κ΄€λ¦¬ λ¬Έμ : ν‚¤κ°€ μ μ¶λλ©΄ λ³΄μ• μ‹¤ν¨                    |
| μ•κ³ λ¦¬μ¦ κµ¬μ΅°κ°€ κ°„λ‹¨ν•¨ | μ‚¬μ©μ μ μ¦κ°€ μ‹ ν‚¤ μκ°€ κΈ‰μ¦ (nλ… κ°„ n(n-1)/2κ°μ ν‚¤ ν•„μ”) |

---

## π”€ λΉ„λ€μΉ­ν‚¤(κ³µκ°ν‚¤) μ•”νΈν™” (Asymmetric Key Encryption)

>  **κ³µκ°ν‚¤(Public Key)** μ™€ **κ°μΈν‚¤(Private Key)** λ¥Ό μ‚¬μ©ν•λ” μ•”νΈ λ°©μ‹

* **κ³µκ°ν‚¤λ΅ μ•”νΈν™”**, κ°μΈν‚¤λ΅ λ³µνΈν™” (or κ°μΈν‚¤λ΅ μ„λ…, κ³µκ°ν‚¤λ΅ κ²€μ¦)
- κ³µκ°ν‚¤λ” κ³µμ , κ°μΈν‚¤λ” μƒμ„±μλ§ μ†μ 
- **μ¤‘κ°„μ κ³µκ²©μ μ„ν—** (μ•”νΈν‚¤ κµν™μ— κ°μ…ν•μ—¬ μ•”νΈν™”μ— μ‚¬μ©λλ” ν‚¤λ¥Ό λΉΌλ‚Ό μ μμ)
  - β†’ μΈμ¦μ„λ¥Ό μ΄μ©ν• SSL/TLSλΌλ” μΈν„°λ„· ν†µμ‹  μ•”νΈν™” λ°©μ‹μ„ ν†µν•΄ ν•΄κ²°
- λ°°ν¬ν•λ” κ³³μ—μ„ λΉ„λ°€ν‚¤κΉμ§€ μ μ¶μ‹ν‚¬ μ„ν—
  - β†’ μ  3μ μΈμ¦κΈ°κ΄€ CAμ— μΈμ¦μ„λ¥Ό μ”κµ¬

### λ€ν‘ μ•κ³ λ¦¬μ¦

| μ•κ³ λ¦¬μ¦                                  | μ„¤λ…                       |
| ------------------------------------- | ------------------------ |
| **RSA**                               | μ†μΈμλ¶„ν•΄μ μ–΄λ ¤μ›€ κΈ°λ°, μ•”νΈν™”μ™€ μ „μμ„λ… |
| **ECC** (Elliptic Curve Cryptography) | νƒ€μ›κ³΅μ„  κΈ°λ°, λ‚®μ€ μ—°μ‚°λ‰μ— λ†’μ€ λ³΄μ•μ„±  |

### νΉμ§•

* ν‚¤ λ¶„λ°° λ¬Έμ  ν•΄κ²°
* μ•”νΈν™”/λ³µνΈν™” μ†λ„ λλ¦Ό (λ€μΉ­ν‚¤λ³΄λ‹¤ λλ¦Ό)

### μ¥λ‹¨μ 

| μ¥μ                  | λ‹¨μ                 |
| ------------------ | ----------------- |
| ν‚¤ λ¶„λ°°κ°€ μ•μ „ν•¨ (κ³µκ°ν‚¤ λ°°ν¬) | μ—°μ‚° λ³µμ΅λ„ λ†’μ, μ†λ„ λλ¦Ό  |
| μ „μμ„λ… κ°€λ¥            | ν‚¤ κΈΈμ΄ μ»¤μ§€λ©΄ μ†λ„ μ €ν• λ°μƒ |

</br>

---

## ν•΄μ‹ ν•¨μ (Hash Function), ν•΄μ‹±
> μ„μ κΈΈμ΄μ λ°μ΄ν„°λ¥Ό κ³ μ • κΈΈμ΄λ΅ **λ§¤ν•‘**ν•λ” ν•¨μ

* **μΌλ°©ν–¥μ„±**(λ³µνΈν™” λ¶κ°€), μ¶©λ μµμ†ν™”κ°€ ν•µμ‹¬
- μ£Όλ΅ λ°μ΄ν„° λ¬΄κ²°μ„±(=νμΌμ΄ μμ •λμ—λ”μ§€) ν™•μΈμ΄ ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” μ©λ„λ΅ μ‚¬μ©

### λ€ν‘ μ•κ³ λ¦¬μ¦

| μ•κ³ λ¦¬μ¦                         | μ„¤λ…                    |
| ---------------------------- | --------------------- |
| **SHA-2 (SHA-256, SHA-512)** | ν„μ¬ κ°€μ¥ λ„λ¦¬ μ“°μ„           |
| **MD5**                      | μ¶©λ λ°μƒ κ°€λ¥μ„± β†‘ β†’ λ³΄μ•μ„± μ•½ν™”λ¨ |

### μ£Όμ” νΉμ§•

* μ…λ ¥μ΄ κ°™μΌλ©΄ ν•­μƒ μ¶λ ¥ λ™μΌ (Deterministic)
* μ¶λ ¥ κΈΈμ΄λ” κ³ μ •
* λ¬΄κ²°μ„± λ³΄μ¥ β†’ λ°μ΄ν„° μ„λ³€μ΅° μ—¬λ¶€ ν™•μΈ κ°€λ¥

### μ¥λ‹¨μ 

| μ¥μ             | λ‹¨μ                    |
| ------------- | -------------------- |
| λ¬΄κ²°μ„± ν™•μΈμ— νƒμ›”    | ν•΄μ‹ μ¶©λμ΄ λ°μƒν•  μ μμ      |
| μΌλ°©ν–¥μ„± β†’ λ³µνΈν™” λ¶κ°€ | μµμ‹  ν•΄μ‹ μ•κ³ λ¦¬μ¦ μ•„λ‹λ©΄ λ³΄μ• μ·¨μ•½ |

### ν•΄μ‹±μ΄ ν•„μ”ν• κ³³
- λΉ„λ°€λ²νΈ μ €μ¥
- λ°μ΄ν„° λ¬΄κ²°μ„± κ²€μ‚¬
- λ””μ§€ν„Έ μ„λ…

</br>

> **β—ν•΄μ‹± VS μ•”νΈν™”**
>
> - **ν•΄μ‹±**μ€ μ›λ³Έ λ°μ΄ν„°λ¥Ό λλλ¦΄ ν•„μ”κ°€ μ—†κ³  **λ°μ΄ν„° λ¬΄κ²°μ„±**μ΄ λ” μ¤‘μ”ν•  λ• μ‚¬μ©
> - **μ•”νΈν™”**λ” **λ―Όκ°ν• λ°μ΄ν„°λ¥Ό λ³΄νΈ**ν•κ³  ν•„μ”ν•  λ• **λ‹¤μ‹ λ³µκµ¬**ν•΄μ•Όλ  λ• μ‚¬μ©

</br>

---
# λ””μ§€ν„Έ μΈμ¦μ„ (Digital Certificate)
> κ³µκ°ν‚¤μ™€ μ†μ μμ μ‹ μ›μ„ **μ 3μμΈ CAκ°€ λ³΄μ¦ν• μ „μ λ¬Έμ„**

- κ³µκ°ν‚¤κ°€ μ§„μ§ λ„κµ¬μ κ²ƒμΈμ§€ μ‹ λΆ°μ„± ν™•λ³΄
- X.509 ν•μ‹μ κµ¬μ΅°ν™”λ νμΌ => **CAκ°€ λ°κΈ‰**

### λ””μ§€ν„Έ μΈμ¦μ„ ν¬λ§·
| ν•„λ“                      | μ„¤λ…                              |
| ----------------------- | ------------------------------- |
| **Subject**             | μΈμ¦μ„ μ†μ μ μ •λ³΄ (CN, OU, O, C λ“±)     |
| **Issuer**              | μΈμ¦μ„ λ°κΈ‰μ(CA) μ •λ³΄                  |
| **Public Key**          | κ³µκ°ν‚¤ μμ²΄                          |
| **Valid From / To**     | μ ν¨ κΈ°κ°„                           |
| **Signature Algorithm** | λ””μ§€ν„Έ μ„λ… μ•κ³ λ¦¬μ¦ (ex. SHA-256 + RSA) |
| **Digital Signature**   | λ°κΈ‰μ(CA)μ κ°μΈν‚¤λ΅ μ„λ…ν• κ°’             |

</br>

---

## π›οΈ PKI (κ³µκ°ν‚¤ κΈ°λ° κµ¬μ΅°, Public Key Infrastructure)
> λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό κΈ°λ°μΌλ΅ κ³µκ°ν‚¤λ¥Ό μ•μ „ν•κ² κ΄€λ¦¬ν•λ” **μΈμ¦ μΈν”„λΌ**

- κ³µκ°ν‚¤ μ•”νΈ κΈ°μ μ΄ ν„μ‹¤μ—μ„ μ•μ „ν•κ² μ‘λ™ν•λ„λ΅ λ§λ“¤μ–΄λ†“μ€ μΈν”„λΌ(μ‹μ¤ν… μ „μ²΄)
* μ‚¬μ©μ μ‹ μ›κ³Ό κ³µκ°ν‚¤μ μ •ν•©μ„± λ³΄μ¥

![pki](./images/7.9.4_pki.png)

### κµ¬μ„± μ”μ†

| κµ¬μ„± μ”μ†                           | μ„¤λ…                              |
| ------------------------------- | ------------------------------- |
| **CA** (μΈμ¦κΈ°κ΄€)                   | μΈμ¦μ„λ¥Ό λ°κΈ‰ν•λ” ν•µμ‹¬ κΈ°κ΄€                 |
| **RA** (Registration Authority) | μΈμ¦ μ „μ— **μ‚¬μ©μ ν™•μΈ** λ‹΄λ‹Ή             |
| **λ””μ§€ν„Έ μΈμ¦μ„**                     | CAκ°€ λ°κΈ‰ν• μ „μ λ¬Έμ„ (κ³µκ°ν‚¤+μ„λ…+κΈ°νƒ€ μ •λ³΄ ν¬ν•¨) |
| **CRL** / **OCSP**              | νμ§€λ μΈμ¦μ„ λ©λ΅ or μ‹¤μ‹κ°„ κ²€μ¦            |
| **μ‚¬μ©μ/μ„λ²„/ν΄λΌμ΄μ–ΈνΈ**                | μΈμ¦μ„λ¥Ό μ‚¬μ©ν•λ” μ£Όμ²΄                    |


### μΈμ¦μ„ λ°κΈ‰ μ μ°¨

1. μ‚¬μ©μ β†’ κ³µκ°ν‚¤λ΅ **CSR(Certificate Signing Request)** μƒμ„±
2. RAκ°€ μ‚¬μ©μ μ •λ³΄ ν™•μΈ
3. CAκ°€ λ””μ§€ν„Έ μΈμ¦μ„ λ°κΈ‰ (μ„λ… ν¬ν•¨)
4. μ‚¬μ©μ μΈμ¦μ„ μ‚¬μ© μ‹μ‘

### μΈμ¦μ„ κµ¬μ΅° (X.509)

* λ²„μ „, μΌλ ¨λ²νΈ
* λ°κΈ‰μ μ •λ³΄ (Issuer)
* μ‚¬μ©μ μ •λ³΄ (Subject)
* κ³µκ°ν‚¤, μ ν¨κΈ°κ°„
* μ„λ… μ•κ³ λ¦¬μ¦ λ° μ„λ…κ°’

### PKIμ λ©μ 
- **κ³µκ°ν‚¤κ°€ μ§„μ§ λ„κµ¬ κ²ƒμΈμ§€ λ³΄μ¥**
- **μ „μμ„λ…κ³Ό μ•”νΈ ν†µμ‹ **μ΄ κ°€λ¥ν• μ‹ λΆ° μ²΄κ³„ μ κ³µ

---

## π” CA (Certificate Authority, μΈμ¦κΈ°κ΄€)
> **λ””μ§€ν„Έ μΈμ¦μ„μ λ°κΈ‰ λ° κ΄€λ¦¬ μ£Όμ²΄**λ΅, μ‚¬μ©μμ™€ μ„λ²„ κ°„μ μ‹ λΆ°λ¥Ό κµ¬μ¶•ν•λ” λ° ν•µμ‹¬μ μΈ μ—­ν• 

- κ³µκ°ν‚¤κ°€ μ§„μ§ ν•΄λ‹Ή μ‚¬μ©μμ—κ² μ†ν•΄ μλ‹¤λ” κ²ƒμ„ κ²€μ¦ν•΄μ„ μΈμ¦μ„λ΅ λ³΄μ¦ν•΄μ£Όλ” κΈ°κ΄€

### μ—­ν• 
| κΈ°λ¥                   | μ„¤λ…                                   |
| -------------------- | ------------------------------------ |
| **μΈμ¦μ„ λ°κΈ‰ (Issue)**   | μΈμ¦ μ”μ²­μ„ κ²€ν† ν•κ³ , κ³µκ°ν‚¤μ— λ””μ§€ν„Έ μ„λ…ν• μΈμ¦μ„λ¥Ό λ°κΈ‰    |
| **μΈμ¦μ„ κ°±μ‹  (Renewal)** | μΈμ¦μ„ λ§λ£ μ „μ— μ‚¬μ©μ μ”μ²­μ— λ”°λΌ μ¬λ°κΈ‰             |
| **μΈμ¦μ„ νμ§€ (Revoke)**  | μ μ¶/νƒμ·¨/λ§λ£λ μΈμ¦μ„λ¥Ό **CRL/OCSP**λ΅ λ“±λ΅ν•΄ λ¬΄ν¨ν™” |
| **μ„λ… ν™•μΈ**            | μ‚¬μ©μκ°€ λ°›μ€ μΈμ¦μ„κ°€ μ„μ΅°λμ§€ μ•μ•λ”μ§€ ν™•μΈν•λ” λ° μ‚¬μ©λ¨    |

### μΈμ¦μ„ λ°κΈ‰ κ³Όμ •
1. μ‚¬μ©μ: ν‚¤ μ μƒμ„± (κ³µκ°ν‚¤, κ°μΈν‚¤)
2. μ‚¬μ©μ β†’ CA: CSR (μΈμ¦μ„ μ„λ… μ”μ²­, Certificate Signing Request) μ „μ†΅
3. CA β†’ μ‚¬μ©μ μ‹ μ› κ²€μ¦ (RAκ°€ λ‹΄λ‹Ήν•  μλ„ μμ)
4. CA: μ‚¬μ©μ κ³µκ°ν‚¤ + μ‚¬μ©μ μ •λ³΄μ— λ””μ§€ν„Έ μ„λ…
5. CA β†’ μ‚¬μ©μ: μΈμ¦μ„ λ°κΈ‰ (X.509 μΈμ¦μ„)

> **β“CSR(Certificate Signing Request)**
>
> - κ³µκ°ν‚¤ + μ‹λ³„μ μ •λ³΄ + μ„λ…μΌλ΅ κµ¬μ„±λ μ”μ²­
> - μ‚¬μ©μκ°€ CAμ— μΈμ¦μ„ λ°κΈ‰μ„ μ”μ²­ν•  λ• λ³΄λ‚΄λ” λ¬Έμ„

### CAμ κ³„μΈµ κµ¬μ΅° (μ‹ λΆ° μ²΄κ³„)

```
[ λ£¨νΈ CA ]  β† λΈλΌμ°μ €/OSμ— μ €μ¥λ μµκ³  κ¶μ„
     β†“
[ μ¤‘κ°„ CA ] β† λ£¨νΈ CAκ°€ μ„λ…ν• μΈμ¦μ„λ΅ μ΄μ
     β†“
[ μµμΆ… μ—”ν‹°ν‹° μΈμ¦μ„ ] β† μ‹¤μ  μ‚¬μ©μ/μ„λ²„ μΈμ¦μ„
```

1. **λ£¨νΈ CA**
  - **λΈλΌμ°μ €λ‚ OSμ— μ‚¬μ „ μ‹ λΆ°λ ν•νƒλ΅ νƒ‘μ¬**λ¨
  - μ§μ ‘ λ°κΈ‰ν•λ©΄ λ³΄μ• μ„ν—μ΄ μ»¤μ„ κ±°μ ν•μ§€ μ•μ

2. **μ¤‘κ°„ CA**
  - λ£¨νΈ CAλ΅λ¶€ν„° μΈμ¦λ°›μ€ **ν•μ„ κΈ°κ΄€**
  - μ‹¤μ  μΈμ¦μ„ λ°κΈ‰ λ‹΄λ‹Ή (λ³΄μ• μ±…μ„ λ¶„μ‚° λ©μ )

3. **μµμΆ… μΈμ¦μ„**
  - μ‚¬μ©μκ°€ μ‹¤μ λ΅ λ°κΈ‰λ°›μ€ μΈμ¦μ„

### μμ‹
- Let's Encrypt (λ¬΄λ£)
- DigiCert, Sectigo, GlobalSign λ“± (μƒμ©)

</br>

> **β“λΈλΌμ°μ €λ” μ–΄λ–»κ² μ‚¬μ΄νΈλ¥Ό λ―Ώμ„κΉ?**
>
> 1. μ‚¬μ©μκ°€ https://example.com μ ‘μ†
> 2. μ„λ²„λ” **SSL μΈμ¦μ„**λ¥Ό λΈλΌμ°μ €μ—κ² μ „λ‹¬
> 3. λΈλΌμ°μ €λ” κ·Έ μΈμ¦μ„μ **μ„λ…μ(CA)**κ°€ μμ‹ μ΄ **μ‹ λΆ°ν•λ” λ£¨νΈ CA μ²΄κ³„**μ— ν¬ν•¨λΌ μλ”μ§€ ν™•μΈ
> 4. β… μ‹ λΆ° μ²΄κ³„μ— ν¬ν•¨λμ—λ‹¤λ©΄, HTTPS μ—°κ²°μ„ μλ¦½ν•¨

</br>

---

## 5. λ””μ§€ν„Έ μ„λ… (Digital Signature)

### π“ μ •μ

* μ „μ λ¬Έμ„μ **λ¬΄κ²°μ„±κ³Ό μ†΅μ‹ μ μΈμ¦**μ„ μ„ν• μ„λ…
* **λΉ„λ€μΉ­ν‚¤ κΈ°λ°**: κ°μΈν‚¤λ΅ μ„λ…, κ³µκ°ν‚¤λ΅ κ²€μ¦

### π” λ™μ‘ μ›λ¦¬

```plaintext
1. μ†΅μ‹ μ: λ©”μ‹μ§€ β†’ ν•΄μ‹ β†’ κ°μΈν‚¤λ΅ μ„λ… μƒμ„±
2. μμ‹ μ: λ©”μ‹μ§€ β†’ ν•΄μ‹ β†’ κ³µκ°ν‚¤λ΅ μ„λ… κ²€μ¦
3. ν•΄μ‹κ°’ λΉ„κµ β†’ μΌμΉ μ—¬λ¶€ νλ‹¨
```

### π“ μ‚¬μ© λ©μ 

* μ„λ³€μ΅° λ°©μ§€
* μ†΅μ‹ μ μΈμ¦
* λ¶€μΈλ°©μ§€ (non-repudiation)

### π” μ¥λ‹¨μ 

| μ¥μ                 | λ‹¨μ                  |
| ----------------- | ------------------ |
| μ†΅μ‹ μ μΈμ¦, μ„λ³€μ΅° λ°©μ§€ κ°€λ¥ | λ³µμ΅ν• μ—°μ‚° κ³Όμ •          |
| λ¶€μΈλ°©μ§€ κΈ°λ¥ μ κ³µ        | μΈμ¦μ„ μ‹ λΆ° μ²΄κ³„ ν•„μ” (PKI) |

---

## 6. μ•”νΈν™” κΈ°μ  λΉ„κµ μ”μ•½

| ν•­λ©      | λ€μΉ­ν‚¤       | λΉ„λ€μΉ­ν‚¤       | ν•΄μ‹ ν•¨μ  | λ””μ§€ν„Έ μ„λ…       |
| ------- | --------- | ---------- | ------ | ------------ |
| ν‚¤ μΆ…λ¥    | ν•λ‚ (κ³µν†µ ν‚¤) | κ³µκ°ν‚¤/κ°μΈν‚¤    | μ—†μ     | κ³µκ°ν‚¤/κ°μΈν‚¤      |
| μ†λ„      | λΉ λ¦„        | λλ¦Ό         | λ§¤μ° λΉ λ¦„  | λλ¦Ό           |
| λ³µνΈν™” κ°€λ¥μ„± | κ°€λ¥        | κ°€λ¥         | λ¶κ°€λ¥    | λ¶κ°€λ¥          |
| μ£Όμ” λ©μ    | λ°μ΄ν„° μ•”νΈν™”   | μ•μ „ν• ν†µμ‹ , μ„λ… | λ¬΄κ²°μ„± ν™•μΈ | μ†΅μ‹ μ μΈμ¦, λ¶€μΈλ°©μ§€ |
