# 7.7.4 프록시 서버와 리버스 프록시

## 1. 정의
**프록시 서버(Proxy Server)** 는 클라이언트와 서버 사이에서 **중계자 역할**을 하는 서버이다.  
클라이언트는 직접 서버에 요청하지 않고, 프록시를 거쳐 간접적으로 서버 자원에 접근한다.

프록시는 동작 위치와 목적에 따라 크게 두 가지로 나뉜다.

- **포워드 프록시 (Forward Proxy)**  
  클라이언트 쪽에 위치하여 서버 대신 요청을 전달한다.  
  → 클라이언트 보호, 접근 제어, 익명성 제공 목적

- **리버스 프록시 (Reverse Proxy)**  
  서버 쪽에 위치하여 클라이언트 요청을 받아 적절한 서버로 전달한다.  
  → 서버 보호, 부하 분산, 캐싱·보안 강화 목적

## 2. 구조와 동작

### 1) 포워드 프록시 (Forward Proxy)
```text
[Client] → [Forward Proxy] → [Server]
```

* 클라이언트가 직접 서버와 연결하지 않고 **프록시가 대신 요청**을 전달한다.
* 서버는 클라이언트의 실제 IP를 알 수 없고, 프록시의 IP만 확인한다.
* 주로 **내부망에서 외부망 접근 통제** 또는 **클라이언트 익명성 보장** 목적에 사용된다.

---

### 2) 리버스 프록시 (Reverse Proxy)

```text
[Client] → [Reverse Proxy] → [Server Pool]
```

* 클라이언트는 리버스 프록시를 실제 서버처럼 인식한다.
* 리버스 프록시는 내부 서버 풀(Server Pool) 중 하나로 요청을 전달하고, 응답을 다시 클라이언트에 반환한다.
* 주로 **로드 밸런싱, 보안(방화벽, SSL 종료), 캐싱** 목적에 사용된다.

---

## 3. 특징

### 포워드 프록시 (Forward Proxy)
- **클라이언트 보호**: 클라이언트 실제 IP 숨김
- **접근 제어**: 내부망 사용자들의 외부 인터넷 접근 통제
- **캐싱 기능**: 자주 요청되는 리소스를 저장해 빠른 응답 제공
- **활용 예시**: 기업 내부망 인터넷 게이트웨이, 지역 제한 우회

---

### 리버스 프록시 (Reverse Proxy)
- **서버 보호**: 서버 IP를 숨기고 외부 공격 차단
- **로드 밸런싱**: 여러 서버로 트래픽을 분산
- **SSL 종료(Termination)**: HTTPS 암호화/복호화 담당
- **캐싱/압축**: 응답 성능 최적화
- **활용 예시**: Nginx, HAProxy, Cloudflare, AWS CloudFront

## 4. 비교

| 구분 | 포워드 프록시 | 리버스 프록시 |
|------|---------------|---------------|
| **위치** | 클라이언트 앞단 | 서버 앞단 |
| **보호 대상** | 클라이언트 | 서버 |
| **주요 목적** | 클라이언트 익명성, 접근 제어 | 서버 보안, 로드 밸런싱, 최적화 |
| **캐싱 위치** | 클라이언트 요청 결과 저장 | 서버 응답 결과 저장 |
| **활용 사례** | 기업 내부망 인터넷 게이트웨이, 지역 제한 우회 | 웹 서비스 성능 향상, CDN, WAF |

---

## 5. 활용 예시

### 포워드 프록시
- **기업 내부망**: 사내 직원들의 인터넷 사용을 통제 및 로그 기록
- **지역 제한 우회**: 특정 국가에서 차단된 콘텐츠 접근 시 사용
- **익명성 확보**: 클라이언트의 실제 IP를 숨기고 프록시 IP로 대체

### 리버스 프록시
- **웹 서버 앞단**: Nginx, HAProxy로 서버 부하 분산 및 캐싱 처리
- **CDN 서비스**: Cloudflare, Akamai, AWS CloudFront 등이 리버스 프록시 방식으로 동작
- **보안 강화**: WAF(Web Application Firewall), SSL 종료, DDoS 방어

---

## 6. 핵심 요약
- **프록시 서버**는 클라이언트와 서버 사이의 **중계자 역할**을 한다.
- **포워드 프록시**는 클라이언트 입장에서 동작하며, 익명성·접근 제어·캐싱 목적에 활용된다.
- **리버스 프록시**는 서버 입장에서 동작하며, 서버 보호·로드 밸런싱·보안 및 성능 최적화에 활용된다.
- 현대 웹 서비스 환경에서는 주로 **리버스 프록시**가 활용되며, CDN·WAF·로드밸런서와 밀접하게 연계된다.

---