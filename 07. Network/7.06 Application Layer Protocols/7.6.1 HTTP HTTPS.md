# 7.6.1 HTTP/HTTPS

## 1. HTTP κ°μ”

---

### μ •μ
HTTP(HyperText Transfer Protocol)λ” **μ›Ήμ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• μ‘μ© κ³„μΈµ ν”„λ΅ν† μ½**μ΄λ‹¤.  
ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)μ™€ μ„λ²„(μ›Ή μ„λ²„) κ°„μ μ”μ²­-μ‘λ‹µ(Request-Response) λ¨λΈμ— κΈ°λ°ν•λ‹¤.

---

### μ£Όμ” νΉμ§•

- **λΉ„μ—°κ²°μ„±(Connectionless)**
  : κ° μ”μ²­/μ‘λ‹µμ€ λ…λ¦½μ μΌλ΅ μ²λ¦¬λλ©°, μ—°κ²°μ€ μ”μ²­ μ™„λ£ ν›„ μΆ…λ£λλ‹¤.  
  (λ‹¨, HTTP/1.1λ¶€ν„° Keep-Aliveλ΅ μ—°κ²° μ μ§€ κ°€λ¥)
  - **λ¬΄μƒνƒμ„±(Stateless)**
  : μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•λ”λ‹¤.  
  (μ„Έμ…, μΏ ν‚¤, ν† ν° λ“±μ„ ν†µν•΄ μƒνƒ μ μ§€ κ°€λ¥)
  - **ν…μ¤νΈ κΈ°λ° ν”„λ΅ν† μ½**
  : μ”μ²­κ³Ό μ‘λ‹µ λ©”μ‹μ§€λ” μ‚¬λμ΄ μ½μ„ μ μλ” ASCII ν…μ¤νΈ ν•μ‹
  - **κΈ°λ³Έ ν¬νΈ**: 80λ²

---

### λ™μ‘ λ°©μ‹

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­(Request) μ „μ†΅
    - λ©”μ„λ“, URL, ν—¤λ”, λ³Έλ¬Έ ν¬ν•¨
2. μ„λ²„κ°€ μ‘λ‹µ(Response) λ°ν™
    - μƒνƒ μ½”λ“, ν—¤λ”, λ³Έλ¬Έ ν¬ν•¨

---

### μμ‹ (HTTP μ”μ²­/μ‘λ‹µ)
```
GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Chrome/123.0
Accept: text/html

HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 1024

<html> ... </html>
```
---

## 2. HTTP λ©”μ„λ“

HTTP λ©”μ„λ“λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­ν•λ” **ν–‰μ„(λ™μ‘)**λ¥Ό λ‚νƒ€λ‚Έλ‹¤.  
λ€ν‘μ μΌλ΅ **CRUD(Create, Read, Update, Delete)** μ‘μ—…μ— λ€μ‘λλ‹¤.

### μ£Όμ” λ©”μ„λ“

| λ©”μ„λ“ | μ„¤λ… | νΉμ§•/μ‚¬μ© μμ‹ |
|--------|------|----------------|
| **GET** | λ¦¬μ†μ¤ μ΅°ν | - μ”μ²­ λ°μ΄ν„°λ” URL μΏΌλ¦¬μ¤νΈλ§μ— ν¬ν•¨<br>- λ©±λ“±(Idempotent), μΊμ‹± κ°€λ¥ |
| **POST** | λ¦¬μ†μ¤ μƒμ„±/λ°μ΄ν„° μ „μ†΅ | - μ”μ²­ λ³Έλ¬Έμ— λ°μ΄ν„° ν¬ν•¨<br>- λ©±λ“± μ•„λ‹, μΊμ‹± λ¶κ°€ |
| **PUT** | λ¦¬μ†μ¤ μ „μ²΄ μμ • | - μ§€μ • λ¦¬μ†μ¤λ¥Ό μ”μ²­ λ³Έλ¬ΈμΌλ΅ λ€μ²΄<br>- λ©±λ“± |
| **PATCH** | λ¦¬μ†μ¤ λ¶€λ¶„ μμ • | - μΌλ¶€ ν•„λ“λ§ μμ •<br>- λ©±λ“± λ³΄μ¥ μ• λ  μ μμ |
| **DELETE** | λ¦¬μ†μ¤ μ‚­μ  | - μ”μ²­ μ‹ λ¦¬μ†μ¤ μ κ±°<br>- λ©±λ“± |
| **HEAD** | ν—¤λ”λ§ μ”μ²­ | - μ‘λ‹µ λ³Έλ¬Έ μ—†μ΄ ν—¤λ”λ§ λ°ν™<br>- λ¦¬μ†μ¤ μ ν¨μ„± κ²€μ‚¬ |
| **OPTIONS** | μ§€μ› λ©”μ„λ“ μ΅°ν | - μ„λ²„κ°€ ν—μ©ν•λ” λ©”μ„λ“ ν™•μΈ (CORS Preflight μ”μ²­μ—μ„ μ‚¬μ©) |

---

### λ©±λ“±μ„±(Idempotency)κ³Ό μ•μ „μ„±(Safety)
- **λ©±λ“±μ„±**: κ°™μ€ μ”μ²­μ„ μ—¬λ¬ λ² λ³΄λ‚΄λ„ κ²°κ³Όκ°€ λ™μΌ (μ: GET, PUT, DELETE)
- **μ•μ „μ„±**: λ¦¬μ†μ¤λ¥Ό λ³€κ²½ν•μ§€ μ•λ” μ„±μ§ (μ: GET, HEAD, OPTIONS)

π“ μμ‹:
- GET `/users/1` μ—¬λ¬ λ² μ”μ²­ β†’ κ²°κ³Ό λ™μΌ β†’ λ©±λ“±
- DELETE `/users/1` μ—¬λ¬ λ² μ”μ²­ β†’ μ²« μ”μ²­λ§ ν¨κ³Ό μμ§€λ§ μ΄ν›„ κ²°κ³Ό λ™μΌ β†’ λ©±λ“±
- POST `/users` μ—¬λ¬ λ² μ”μ²­ β†’ μ‚¬μ©μ μ¤‘λ³µ μƒμ„± κ°€λ¥ β†’ λ©±λ“± μ•„λ‹

---

## 3. HTTP μƒνƒ μ½”λ“

HTTP μƒνƒ μ½”λ“λ” μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ€ν• **μ²λ¦¬ κ²°κ³Ό**λ¥Ό μ•λ ¤μ£Όλ” 3μλ¦¬ μ«μλ‹¤.  
1xx ~ 5xx λ²”μ„λ΅ κµ¬λ¶„λλ‹¤.

### μƒνƒ μ½”λ“ λ¶„λ¥

| λ²”μ„ | λ¶„λ¥ | μ„¤λ… |
|------|------|------|
| **1xx** | Informational | μ”μ²­μ„ κ³„μ† μ§„ν–‰ μ¤‘μ„μ„ μ•λ¦Ό |
| **2xx** | Success | μ”μ²­ μ„±κ³µ |
| **3xx** | Redirection | λ¦¬μ†μ¤ μ„μΉ λ³€κ²½, λ‹¤λ¥Έ κ²½λ΅λ΅ μ ‘κ·Ό ν•„μ” |
| **4xx** | Client Error | ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ¤λ¥ |
| **5xx** | Server Error | μ„λ²„ μΈ΅ μ¤λ¥ |

---

### λ€ν‘ μƒνƒ μ½”λ“

#### 1xx (μ •λ³΄)
- **100 Continue**: μ”μ²­μ μΌλ¶€λ¥Ό μμ‹ , λ‚λ¨Έμ§€ κ³„μ† μ „μ†΅ν•λΌ
- **101 Switching Protocols**: ν”„λ΅ν† μ½ μ „ν™ (μ: HTTP β†’ WebSocket)

#### 2xx (μ„±κ³µ)
- **200 OK**: μ”μ²­ μ„±κ³µ
- **201 Created**: μƒλ΅μ΄ λ¦¬μ†μ¤ μƒμ„±
- **204 No Content**: μ”μ²­ μ„±κ³µν–μ§€λ§ λ°ν™ν•  λ³Έλ¬Έ μ—†μ

#### 3xx (λ¦¬λ‹¤μ΄λ ‰μ…)
- **301 Moved Permanently**: μκµ¬ μ΄λ™ (λ¦¬μ†μ¤ μ„μΉ λ³€κ²½, SEO μ¤‘μ”)
- **302 Found**: μ„μ‹ μ΄λ™
- **304 Not Modified**: μΊμ‹λ λ¦¬μ†μ¤ μ‚¬μ© κ°€λ¥

#### 4xx (ν΄λΌμ΄μ–ΈνΈ μ¤λ¥)
- **400 Bad Request**: μλ»λ μ”μ²­ (λ¬Έλ²• μ¤λ¥ λ“±)
- **401 Unauthorized**: μΈμ¦ ν•„μ”
- **403 Forbidden**: κ¶ν• μ—†μ
- **404 Not Found**: λ¦¬μ†μ¤ μ—†μ

#### 5xx (μ„λ²„ μ¤λ¥)
- **500 Internal Server Error**: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
- **502 Bad Gateway**: κ²μ΄νΈμ›¨μ΄/ν”„λ΅μ‹ μ„λ²„μ μλ»λ μ‘λ‹µ
- **503 Service Unavailable**: μ„λ²„ κ³Όλ¶€ν• λλ” μ κ²€ μ¤‘
- **504 Gateway Timeout**: κ²μ΄νΈμ›¨μ΄/ν”„λ΅μ‹ μ„λ²„μ μ‘λ‹µ μ‹κ°„ μ΄κ³Ό

---

### ν•µμ‹¬ μ”μ•½
- μƒνƒ μ½”λ“λ” **μ”μ²­ κ²°κ³Ό**λ¥Ό 5κ° λ²”μ£Ό(1xx~5xx)λ΅ ν‘ν„
- **2xx: μ„±κ³µ / 4xx: ν΄λΌμ΄μ–ΈνΈ μ¤λ¥ / 5xx: μ„λ²„ μ¤λ¥**
- μ‹¤λ¬΄μ—μ„ μμ£Ό λ§μ£ΌμΉλ” μ½”λ“: **200, 201, 301, 302, 304, 400, 401, 403, 404, 500, 502, 503**

---

## 4. HTTP ν—¤λ”μ™€ μΏ ν‚¤

### 1) HTTP ν—¤λ”

HTTP λ©”μ‹μ§€λ” **μ”μ²­(Request) ν—¤λ”**μ™€ **μ‘λ‹µ(Response) ν—¤λ”**λ΅ κµ¬μ„±λλ‹¤.  
ν—¤λ”λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ λ¶€κ°€ μ •λ³΄λ¥Ό μ „λ‹¬ν•λ‹¤.

#### (1) μΌλ° ν—¤λ” (κ³µν†µ)
- `Date`: λ©”μ‹μ§€ μƒμ„± μ‹κ°
- `Connection`: μ—°κ²° μµμ… (Keep-Alive, close)
- `Cache-Control`: μΊμ‹ μ •μ±… (no-cache, max-age)

#### (2) μ”μ²­(Request) ν—¤λ”
- `Host`: μ”μ²­ λ€μƒ νΈμ¤νΈ (ν•„μ, HTTP/1.1λ¶€ν„°)
- `User-Agent`: ν΄λΌμ΄μ–ΈνΈ μ •λ³΄ (λΈλΌμ°μ €, μ•± λ“±)
- `Accept`: ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹  κ°€λ¥ν• λ°μ΄ν„° νƒ€μ…
- `Authorization`: μΈμ¦ ν† ν°/μκ²© μ¦λ…
- `Cookie`: ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ§„ μΏ ν‚¤ μ „μ†΅

#### (3) μ‘λ‹µ(Response) ν—¤λ”
- `Server`: μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄
- `Set-Cookie`: ν΄λΌμ΄μ–ΈνΈμ— μΏ ν‚¤ μ €μ¥ μ§€μ‹
- `Content-Type`: μ‘λ‹µ λ³Έλ¬Έμ λ°μ΄ν„° νƒ€μ…
- `Content-Length`: μ‘λ‹µ λ³Έλ¬Έμ κΈΈμ΄
- `Location`: λ¦¬λ‹¤μ΄λ ‰μ… λ€μƒ URL (3xx μ‘λ‹µ μ‹)

---

### 2) μΏ ν‚¤(Cookie)

#### μ •μ
- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ— μ €μ¥ν•λ” **μ‘μ€ λ°μ΄ν„° μ΅°κ°**
- λ¬΄μƒνƒμ„±(Stateless) HTTPμ ν•κ³„λ¥Ό λ³΄μ™„ν•μ—¬ μƒνƒλ¥Ό μ μ§€ν•λ” λ°©μ‹

#### λ™μ‘ μ›λ¦¬
1. ν΄λΌμ΄μ–ΈνΈκ°€ μµμ΄ μ”μ²­ β†’ μ„λ²„κ°€ `Set-Cookie` ν—¤λ” μ „μ†΅
2. λΈλΌμ°μ €κ°€ μΏ ν‚¤λ¥Ό μ €μ¥
3. μ΄ν›„ λ™μΌ μ„λ²„ μ”μ²­ μ‹ `Cookie` ν—¤λ”μ— λ‹΄μ•„ μλ™ μ „μ†΅

#### νΉμ§•
- μΏ ν‚¤μ—λ” μ„Έμ… ID, μ‚¬μ©μ μΈμ¦ μ •λ³΄ λ“± μ €μ¥ κ°€λ¥
- λ³΄μ• μ΄μ: ν΄λΌμ΄μ–ΈνΈ μ €μ¥μ΄λ―€λ΅ νƒμ·¨/μ„λ³€μ΅° μ„ν—
- μµμ…: `HttpOnly`, `Secure`, `SameSite` μ†μ„±μΌλ΅ λ³΄μ• κ°•ν™”

---

### 3) μ„Έμ…(Session)κ³Όμ κ΄€κ³„
- **μΏ ν‚¤**: ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬μ— μ €μ¥λλ” λ°μ΄ν„°
- **μ„Έμ…**: μ„λ²„ λ©”λ¨λ¦¬/DBμ— μ €μ¥, ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ… ID μΏ ν‚¤λ§ λ³΄κ΄€
- μΌλ°μ μΌλ΅ **μΏ ν‚¤ = μ„Έμ… ID μ „λ‹¬μ©**, **μ‹¤μ  μƒνƒ = μ„λ²„ μ„Έμ…μ— μ €μ¥**

---

## 5. HTTPSμ™€ SSL/TLS

### 1) HTTPS μ •μ
- HTTPS(HyperText Transfer Protocol Secure)λ” **HTTP + λ³΄μ• κ³„μΈµ(SSL/TLS)** μ΅°ν•©
- κΈ°λ³Έ ν¬νΈ: **443**
- μ•”νΈν™”, λ¬΄κ²°μ„±, μΈμ¦μ„ μ κ³µν•μ—¬ μ•μ „ν• μ›Ή ν†µμ‹  κ°€λ¥

---

### 2) SSL/TLSμ μ—­ν• 
1. **μ•”νΈν™” (Confidentiality)**
    - λ°μ΄ν„°κ°€ μ¤‘κ°„μ—μ„ λ„μ²­λμ–΄λ„ λ‚΄μ©μ„ μ• μ μ—†λ„λ΅ μ•”νΈν™”
    - λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹ μ‚¬μ© (AES λ“±)

2. **λ¬΄κ²°μ„± (Integrity)**
    - μ „μ†΅ μ¤‘ λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥
    - λ©”μ‹μ§€ μΈμ¦ μ½”λ“(MAC), ν•΄μ‹(Hash) ν™μ©

3. **μΈμ¦ (Authentication)**
    - μ„λ²„(λλ” ν΄λΌμ΄μ–ΈνΈ)μ μ‹ μ›μ„ λ””μ§€ν„Έ μΈμ¦μ„λ΅ κ²€μ¦
    - CA(Certificate Authority)κ°€ λ°κΈ‰ν• μΈμ¦μ„ μ‚¬μ©

---

### 3) SSL/TLS λ™μ‘ κ³Όμ • (Handshake κ°„λµ νλ¦„)
1. **ClientHello**: ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ› μ•”νΈν™” μ•κ³ λ¦¬μ¦, λ‚μ μ „μ†΅
2. **ServerHello**: μ„λ²„κ°€ μ„ νƒν• μ•”νΈν™” μ•κ³ λ¦¬μ¦, μΈμ¦μ„ μ „μ†΅
3. **μΈμ¦μ„ κ²€μ¦**: ν΄λΌμ΄μ–ΈνΈκ°€ CA μ„λ… ν™•μΈ, μ„λ²„ μ‹ μ› κ²€μ¦
4. **μ„Έμ…ν‚¤ κµν™**: Diffie-Hellman, RSA λ“±μΌλ΅ λ€μΉ­ν‚¤ μƒμ„±/κµν™
5. **Finished**: μ„Έμ…ν‚¤λ΅ μ•”νΈν™”λ ν†µμ‹  μ‹μ‘

---

### 4) HTTPSμ μ¥μ 
- κΈ°λ°€μ„±, λ¬΄κ²°μ„±, μΈμ¦ λ³΄μ¥
- λΈλΌμ°μ € λ³΄μ• κ²½κ³  λ°©μ§€ (HTTPS μλ¬΄ν™” μ¶”μ„Έ)
- SEO(κ²€μƒ‰ μ—”μ§„ μµμ ν™”) μΈ΅λ©΄μ—μ„λ„ μ λ¦¬

### 5) λ‹¨μ 
- μ•”νΈν™”/λ³µνΈν™” κ³Όμ •μΌλ΅ μ¤λ²„ν—¤λ“ λ°μƒ
- μΈμ¦μ„ λ°κΈ‰/κ°±μ‹  ν•„μ”
- μ΄κΈ° μ—°κ²°(Handshake)μ—μ„ μ§€μ—°(latency) μ¦κ°€

---

### ν•µμ‹¬ μ”μ•½
- **HTTP**λ” ν‰λ¬Έ, **HTTPS**λ” SSL/TLSλ΅ λ³΄μ• κ°•ν™”
- SSL/TLSλ” **μ•”νΈν™”, λ¬΄κ²°μ„±, μΈμ¦** μ κ³µ
- HTTPSλ” ν„λ€ μ›Ή μ„λΉ„μ¤μ—μ„ μ‚¬μ‹¤μƒ ν•„μ

---

## 6. HTTP/1.1 vs HTTP/2 vs HTTP/3

### 1) HTTP/1.1

- **μ§€μ† μ—°κ²° (Persistent Connection, Keep-Alive)**
  : μ—¬λ¬ μ”μ²­/μ‘λ‹µμ„ ν•λ‚μ TCP μ—°κ²°μ—μ„ μ²λ¦¬ κ°€λ¥
  - **νμ΄ν”„λΌμ΄λ‹(Pipelining)** μ§€μ›
  : μ—¬λ¬ μ”μ²­μ„ λ™μ‹μ— λ³΄λ‚Ό μ μμΌλ‚, μ‘λ‹µ μμ„ λ¬Έμ (Head-of-line blocking)λ΅ μ ν•μ 
  - **ν—¤λ” μ¤‘λ³µ λ¬Έμ **: κ°™μ€ ν—¤λ”κ°€ λ°λ³µ μ „μ†΅λμ–΄ λΉ„ν¨μ¨

---

### 2) HTTP/2

- **λ©€ν‹°ν”λ ‰μ‹±(Multiplexing)**
  : ν•λ‚μ TCP μ—°κ²°μ—μ„ μ—¬λ¬ μ”μ²­/μ‘λ‹µμ„ λ™μ‹μ— μ²λ¦¬ β†’ HOLB μ™„ν™”
  - **μ΄μ§„ ν”„λ μ΄λ°(Binary Framing)**
  : μ”μ²­/μ‘λ‹µμ„ ν”„λ μ„ λ‹¨μ„λ΅ λ¶„λ¦¬ β†’ ν¨μ¨μ  μ „μ†΅
  - **ν—¤λ” μ••μ¶•(HPACK)**
  : μ¤‘λ³µ ν—¤λ” μ••μ¶• β†’ λ€μ—­ν­ μ μ•½
  - **μ„λ²„ ν‘Έμ‹(Server Push)**
  : ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ „μ— λ¦¬μ†μ¤λ¥Ό λ―Έλ¦¬ μ „μ†΅ κ°€λ¥

---

### 3) HTTP/3

- **QUIC ν”„λ΅ν† μ½ κΈ°λ°**
  : TCP λ€μ‹  **UDP μ„μ—μ„ λ™μ‘**
  - **0-RTT μ—°κ²°**
  : μ¬μ—°κ²° μ‹ ν•Έλ“μ…°μ΄ν¬ μƒλµ β†’ μ§€μ—° μµμ†ν™”
  - **HOLB μ™„μ „ ν•΄μ†**
  : μ¤νΈλ¦Ό λ‹¨μ„ λ…λ¦½ μ „μ†΅, ν• μ¤νΈλ¦Ό μ†μ‹¤μ΄ λ‹¤λ¥Έ μ¤νΈλ¦Όμ— μν–¥ X
  - **λ³΄μ• κΈ°λ³Έ λ‚΄μ¥**
  : QUICμ— TLS 1.3μ΄ ν¬ν•¨λμ–΄ λ³„λ„ ν‘μƒ λ¶ν•„μ”

---

### λΉ„κµ ν‘

| κµ¬λ¶„ | HTTP/1.1 | HTTP/2 | HTTP/3 |
|------|----------|--------|--------|
| μ „μ†΅ κΈ°λ° | TCP | TCP | UDP(QUIC) |
| λ³‘λ ¬ μ²λ¦¬ | νμ΄ν”„λΌμ΄λ‹(μ ν•μ ) | λ©€ν‹°ν”λ ‰μ‹± | λ©€ν‹°ν”λ ‰μ‹± (μ¤νΈλ¦Ό λ…λ¦½) |
| ν—¤λ” μ²λ¦¬ | λ°λ³µ μ „μ†΅ | HPACK μ••μ¶• | QPACK μ••μ¶• |
| HOLB λ¬Έμ  | μ΅΄μ¬ | TCP μμ¤€μ—μ„λ” μ—¬μ „ | ν•΄κ²° |
| λ³΄μ• | μ„ νƒμ (TLS) | TLS κ¶μ¥ | TLS 1.3 λ‚΄μ¥ |
| μ¶”κ°€ κΈ°λ¥ | μ—†μ | μ„λ²„ ν‘Έμ‹ | 0-RTT ν•Έλ“μ…°μ΄ν¬ |

---

### ν•µμ‹¬ μ”μ•½
- **HTTP/1.1**: Keep-Aliveλ΅ κ°μ„ ν–μ§€λ§ HOLB λ¬Έμ  μ΅΄μ¬
- **HTTP/2**: λ©€ν‹°ν”λ ‰μ‹±, ν—¤λ” μ••μ¶•, μ„λ²„ ν‘Έμ‹λ΅ μ„±λ¥ κ°μ„ 
- **HTTP/3**: QUIC κΈ°λ°μΌλ΅ TCP ν•κ³„ κ·Ήλ³µ, μ§€μ—° μµμ†ν™” λ° HOLB ν•΄μ†
